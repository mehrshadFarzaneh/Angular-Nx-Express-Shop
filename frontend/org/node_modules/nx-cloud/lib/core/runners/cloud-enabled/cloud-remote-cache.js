const a2_0x6c95=['Error\x20when\x20storing\x20artifacts','note','then','Nx\x20Cloud:\x20Skipping\x20storing\x20','status','response','../../../utilities/nx-imports','fileStorage','retrieve','value','get','distributedExecutionId','startRun','scheduledTasks','next','waitForStoreRequestsToComplete','remote-cache-hit','push','messages','statuses','hash','Maybe\x20you\x20are\x20using\x20a\x20read-only\x20token\x20or\x20the\x20artifact\x20has\x20already\x20being\x20uploaded.','filter','forEach','storeInCurrentProcess','put','storage','delayedStoreRequests','api','all','../../../utilities/environment','resolve','storeRequests','defineProperty','extractErrorMessage','runContext','VERBOSE_LOGGING','throw','requests','hashUrls','axiosException','map','reduce','done','CloudRemoteCache','cacheError','.\x20Status\x20404.','Nx\x20Cloud:\x20Cache\x20miss\x20','store'];(function(_0x7e0adb,_0x6c95e){const _0x32b564=function(_0x4d49d7){while(--_0x4d49d7){_0x7e0adb['push'](_0x7e0adb['shift']());}};_0x32b564(++_0x6c95e);}(a2_0x6c95,0x85));const a2_0x32b5=function(_0x7e0adb,_0x6c95e){_0x7e0adb=_0x7e0adb-0x0;let _0x32b564=a2_0x6c95[_0x7e0adb];return _0x32b564;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x42acc7,_0x30f9bd,_0x555572,_0x881178){function _0x508eca(_0x34d826){return _0x34d826 instanceof _0x555572?_0x34d826:new _0x555572(function(_0x5e0cee){_0x5e0cee(_0x34d826);});}return new(_0x555572||(_0x555572=Promise))(function(_0x26d125,_0x171a6e){function _0x64a397(_0x30df01){try{_0x18a153(_0x881178[a2_0x32b5('0x1c')](_0x30df01));}catch(_0x45cf07){_0x171a6e(_0x45cf07);}}function _0x39d9fb(_0x5214db){try{_0x18a153(_0x881178[a2_0x32b5('0x2')](_0x5214db));}catch(_0x489286){_0x171a6e(_0x489286);}}function _0x18a153(_0x2df352){_0x2df352[a2_0x32b5('0x8')]?_0x26d125(_0x2df352[a2_0x32b5('0x17')]):_0x508eca(_0x2df352[a2_0x32b5('0x17')])[a2_0x32b5('0x10')](_0x64a397,_0x39d9fb);}_0x18a153((_0x881178=_0x881178['apply'](_0x42acc7,_0x30f9bd||[]))[a2_0x32b5('0x1c')]());});};Object[a2_0x32b5('0x2f')](exports,'__esModule',{'value':!![]});exports[a2_0x32b5('0x9')]=void 0x0;const environment_1=require(a2_0x32b5('0x2c'));const {output}=require(a2_0x32b5('0x14'));class CloudRemoteCache{constructor(_0x4ce53f,_0xe47537,_0x3ebaba,_0x1cfe89,_0xb71c83,_0x557203){this[a2_0x32b5('0x20')]=_0x4ce53f;this[a2_0x32b5('0x2a')]=_0xe47537;this[a2_0x32b5('0x0')]=_0x3ebaba;this[a2_0x32b5('0x15')]=_0x1cfe89;this['distributedExecutionId']=_0xb71c83;this[a2_0x32b5('0x26')]=_0x557203;this[a2_0x32b5('0x2e')]=[];this[a2_0x32b5('0x29')]=[];}[a2_0x32b5('0x16')](_0x46d644,_0x36a3a7){var _0x341de5;return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a2_0x32b5('0xa')])return![];const _0x3f378e=yield this['hashUrls'](_0x46d644);if(!_0x3f378e||!_0x3f378e[a2_0x32b5('0x18')]){if(environment_1[a2_0x32b5('0x1')]){output[a2_0x32b5('0xf')]({'title':a2_0x32b5('0xc')+_0x46d644+'.'});}this[a2_0x32b5('0x0')][a2_0x32b5('0x21')][_0x46d644]='cache-miss';return![];}try{yield this['fileStorage'][a2_0x32b5('0x16')](_0x46d644,_0x3f378e[a2_0x32b5('0x18')],_0x36a3a7);this[a2_0x32b5('0x0')][a2_0x32b5('0x21')][_0x46d644]=a2_0x32b5('0x1e');return!![];}catch(_0x9f263c){const _0x1eb6c9=(_0x341de5=_0x9f263c[a2_0x32b5('0x5')])!==null&&_0x341de5!==void 0x0?_0x341de5:_0x9f263c;if(_0x1eb6c9['response']&&_0x1eb6c9[a2_0x32b5('0x13')][a2_0x32b5('0x12')]===0x194){if(environment_1[a2_0x32b5('0x1')]){output[a2_0x32b5('0xf')]({'title':a2_0x32b5('0xc')+_0x46d644+a2_0x32b5('0xb')});}}else{this[a2_0x32b5('0x20')]['cacheError']=this['messages'][a2_0x32b5('0x30')](_0x1eb6c9,a2_0x32b5('0x28'));}this[a2_0x32b5('0x0')]['statuses'][_0x46d644]='cache-miss';return![];}});}[a2_0x32b5('0xd')](_0x2be732,_0x1e6f32){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x32b5('0x20')][a2_0x32b5('0xa')])return![];const _0x5bfdad=Promise[a2_0x32b5('0x2d')]()[a2_0x32b5('0x10')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x5583e3;const _0x1a8cde=yield this[a2_0x32b5('0x4')](_0x2be732);if(!_0x1a8cde)return![];if(!_0x1a8cde[a2_0x32b5('0x27')]){if(environment_1[a2_0x32b5('0x1')]){output['note']({'title':a2_0x32b5('0x11')+_0x2be732+'.','bodyLines':['There\x20are\x20several\x20reasons\x20why\x20this\x20can\x20happen.',a2_0x32b5('0x23')]});}return!![];}if(!this['storeInCurrentProcess']){this[a2_0x32b5('0x29')][a2_0x32b5('0x1f')]({'hash':_0x2be732,'url':_0x1a8cde[a2_0x32b5('0x27')]});return!![];}try{yield this[a2_0x32b5('0x15')][a2_0x32b5('0xd')](_0x2be732,_0x1a8cde[a2_0x32b5('0x27')],_0x1e6f32);return!![];}catch(_0x418811){const _0xb4a98=(_0x5583e3=_0x418811[a2_0x32b5('0x5')])!==null&&_0x5583e3!==void 0x0?_0x5583e3:_0x418811;this[a2_0x32b5('0x20')][a2_0x32b5('0xa')]=this[a2_0x32b5('0x20')][a2_0x32b5('0x30')](_0xb4a98,'storage');return![];}}));this[a2_0x32b5('0x2e')]['push'](_0x5bfdad);return _0x5bfdad;});}[a2_0x32b5('0x4')](_0x433486){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x433486 in this[a2_0x32b5('0x0')][a2_0x32b5('0x3')]){return(yield this[a2_0x32b5('0x0')][a2_0x32b5('0x3')][_0x433486])[_0x433486];}else{const _0x4de827=this['runContext'][a2_0x32b5('0x1b')][a2_0x32b5('0x24')](_0x5dd03d=>!this[a2_0x32b5('0x0')][a2_0x32b5('0x3')][_0x5dd03d[a2_0x32b5('0x22')]])[a2_0x32b5('0x6')](_0x145906=>_0x145906[a2_0x32b5('0x22')]);if(_0x4de827['indexOf'](_0x433486)===-0x1){_0x4de827['push'](_0x433486);}const _0x20247f=this[a2_0x32b5('0x2a')][a2_0x32b5('0x1a')](this[a2_0x32b5('0x19')],_0x4de827);_0x4de827[a2_0x32b5('0x25')](_0x256ed6=>{this[a2_0x32b5('0x0')][a2_0x32b5('0x3')][_0x256ed6]=_0x20247f;});return(yield _0x20247f)[_0x433486];}});}[a2_0x32b5('0x1d')](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x230a10=yield Promise[a2_0x32b5('0x2b')](this[a2_0x32b5('0x2e')])[a2_0x32b5('0x10')](_0xfcaab=>_0xfcaab[a2_0x32b5('0x7')]((_0x3d8c3b,_0x37c689)=>_0x3d8c3b&&_0x37c689,!![]));if(!_0x230a10){throw new Error(a2_0x32b5('0xe'));}});}}exports['CloudRemoteCache']=CloudRemoteCache;