{"version":3,"file":"create-workspace.js","sourceRoot":"","sources":["../../../../../modules/schematics/schematics-core/testing/create-workspace.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKa,QAAA,uBAAuB,GAAG;IACrC,IAAI,EAAE,WAAW;IACjB,cAAc,EAAE,UAAU;IAC1B,OAAO,EAAE,OAAO;CACjB,CAAC;AAEW,QAAA,iBAAiB,GAAG;IAC/B,IAAI,EAAE,KAAK;IACX,WAAW,EAAE,KAAK;IAClB,cAAc,EAAE,KAAK;IACrB,iBAAiB,EAAE,UAAU;IAC7B,OAAO,EAAE,KAAK;IACd,KAAK,EAAE,KAAK;IACZ,SAAS,EAAE,KAAK;CACjB,CAAC;AAEF,IAAM,iBAAiB,GAAG;IACxB,IAAI,EAAE,KAAK;CACZ,CAAC;AAEF,SAAgB,kBAAkB,CAChC,gBAA+C,EAC/C,UAAmC;IADnC,iCAAA,EAAA,mBAAwB,+BAAuB;IAC/C,2BAAA,EAAA,aAAkB,yBAAiB;IAEnC,OAAO,WAAI,gBAAgB,CAAC,cAAc,cAAI,UAAU,CAAC,IAAI,CAAE,CAAC;AAClE,CAAC;AALD,gDAKC;AAED,SAAsB,eAAe,CACnC,eAAoC,EACpC,OAAqB,EACrB,gBAA0C,EAC1C,UAA8B,EAC9B,UAA8B;IAF9B,iCAAA,EAAA,mBAAmB,+BAAuB;IAC1C,2BAAA,EAAA,aAAa,yBAAiB;IAC9B,2BAAA,EAAA,8BAA8B;;;;wBAEpB,qBAAM,eAAe,CAAC,oBAAoB,CAClD,qBAAqB,EACrB,WAAW,EACX,gBAAgB,CACjB,EAAA;;oBAJD,OAAO,GAAG,SAIT,CAAC;oBAEQ,qBAAM,eAAe,CAAC,oBAAoB,CAClD,qBAAqB,EACrB,aAAa,EACb,UAAU,EACV,OAAO,CACR,EAAA;;oBALD,OAAO,GAAG,SAKT,CAAC;oBAEQ,qBAAM,eAAe,CAAC,oBAAoB,CAClD,qBAAqB,EACrB,aAAa,wBACR,UAAU,KAAE,IAAI,EAAE,gBAAgB,EAAE,UAAU,EAAE,IAAI,KACzD,OAAO,CACR,EAAA;;oBALD,OAAO,GAAG,SAKT,CAAC;oBAEQ,qBAAM,eAAe,CAAC,oBAAoB,CAClD,qBAAqB,EACrB,SAAS,EACT,UAAU,EACV,OAAO,CACR,EAAA;;oBALD,OAAO,GAAG,SAKT,CAAC;oBAEF,sBAAO,OAAO,EAAC;;;;CAChB;AAnCD,0CAmCC","sourcesContent":["import {\n  SchematicTestRunner,\n  UnitTestTree,\n} from '@angular-devkit/schematics/testing';\n\nexport const defaultWorkspaceOptions = {\n  name: 'workspace',\n  newProjectRoot: 'projects',\n  version: '6.0.0',\n};\n\nexport const defaultAppOptions = {\n  name: 'bar',\n  inlineStyle: false,\n  inlineTemplate: false,\n  viewEncapsulation: 'Emulated',\n  routing: false,\n  style: 'css',\n  skipTests: false,\n};\n\nconst defaultLibOptions = {\n  name: 'baz',\n};\n\nexport function getTestProjectPath(\n  workspaceOptions: any = defaultWorkspaceOptions,\n  appOptions: any = defaultAppOptions\n) {\n  return `/${workspaceOptions.newProjectRoot}/${appOptions.name}`;\n}\n\nexport async function createWorkspace(\n  schematicRunner: SchematicTestRunner,\n  appTree: UnitTestTree,\n  workspaceOptions = defaultWorkspaceOptions,\n  appOptions = defaultAppOptions,\n  libOptions = defaultLibOptions\n) {\n  appTree = await schematicRunner.runExternalSchematic(\n    '@schematics/angular',\n    'workspace',\n    workspaceOptions\n  );\n\n  appTree = await schematicRunner.runExternalSchematic(\n    '@schematics/angular',\n    'application',\n    appOptions,\n    appTree\n  );\n\n  appTree = await schematicRunner.runExternalSchematic(\n    '@schematics/angular',\n    'application',\n    { ...appOptions, name: 'bar-standalone', standalone: true },\n    appTree\n  );\n\n  appTree = await schematicRunner.runExternalSchematic(\n    '@schematics/angular',\n    'library',\n    libOptions,\n    appTree\n  );\n\n  return appTree;\n}\n"]}