"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeOptions = void 0;
const devkit_1 = require("@nx/devkit");
const path_1 = require("../../utils/path");
const selector_1 = require("../../utils/selector");
function normalizeOptions(tree, options) {
    var _a, _b, _c, _d, _e;
    (_a = options.type) !== null && _a !== void 0 ? _a : (options.type = 'component');
    const { directory, filePath, name, path, root, sourceRoot } = (0, path_1.normalizeNameAndPaths)(tree, options);
    const { prefix } = (0, devkit_1.readProjectConfiguration)(tree, options.project);
    const selector = (_b = options.selector) !== null && _b !== void 0 ? _b : (0, selector_1.buildSelector)(tree, name, options.prefix, prefix, 'fileName');
    return Object.assign(Object.assign({}, options), { name, changeDetection: (_c = options.changeDetection) !== null && _c !== void 0 ? _c : 'Default', style: (_d = options.style) !== null && _d !== void 0 ? _d : 'css', flat: (_e = options.flat) !== null && _e !== void 0 ? _e : false, directory,
        filePath,
        path, projectSourceRoot: sourceRoot, projectRoot: root, selector });
}
exports.normalizeOptions = normalizeOptions;
