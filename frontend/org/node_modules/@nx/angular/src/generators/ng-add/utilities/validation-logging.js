"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getProjectValidationResultMessage = exports.arrayToString = void 0;
const chalk = require("chalk");
function arrayToString(array) {
    if (array.length === 0) {
        return '';
    }
    if (array.length === 1) {
        return quote(array[0]);
    }
    const last = array[array.length - 1];
    const rest = array.slice(0, array.length - 1);
    return `${rest.map(quote).join(', ')} and ${quote(last)}`;
}
exports.arrayToString = arrayToString;
function getProjectValidationResultMessage(validationResult) {
    return `${chalk.bold('Validation results')}:

  ${validationResult
        .map((error) => getValidationErrorText(error))
        .join('\n\n  ')}`;
}
exports.getProjectValidationResultMessage = getProjectValidationResultMessage;
function getValidationErrorText({ message, messageGroup, hint, }) {
    let lines = message
        ? [`- ${message}`, ...(hint ? [chalk.dim(chalk.italic(`  ${hint}`))] : [])]
        : [
            `- ${messageGroup.title}:`,
            '  - Errors:',
            ...messageGroup.messages.map((message) => `    - ${message}`),
            ...(hint ? [chalk.dim(chalk.italic(`  - ${hint}`))] : []),
        ];
    return lines.join('\n  ');
}
function quote(str) {
    return `"${str}"`;
}
