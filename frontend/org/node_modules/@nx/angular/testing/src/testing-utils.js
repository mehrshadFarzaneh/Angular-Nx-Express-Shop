"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readFirst = exports.readAll = void 0;
const operators_1 = require("rxjs/operators");
/**
 * @deprecated This will be removed in a later version of Nx. Since RxJS 7, use firstValueFrom(obs$.pipe(toArray())) or lastValueFrom(obs$.pipe(toArray())).
 *
 * @whatItDoes reads all the values from an observable and returns a promise
 * with an array of all values. This should be used in combination with async/await.
 *
 * ## Example
 *
 * ```typescript
 * const obs = of(1, 2, 3, 4);
 * const res = await readAll(obs)
 * expect(res).toEqual([1, 2, 3, 4]);
 * ```
 */
function readAll(o) {
    return o.pipe((0, operators_1.toArray)()).toPromise();
}
exports.readAll = readAll;
/**
 * @deprecated This will be removed in a later version of Nx. Since RxJS 7, use firstValueFrom(obs$)
 *
 * @whatItDoes reads the first value from an observable and returns a promise
 * with it. This should be used in combination with async/await.
 *
 * ## Example
 *
 * ```typescript
 * const obs = of(1, 2, 3, 4);
 * const res = await readFirst(obs)
 * expect(res).toEqual(1);
 * ```
 */
function readFirst(o) {
    return o.pipe((0, operators_1.first)()).toPromise();
}
exports.readFirst = readFirst;
