/*!
*  filename: ej2-layouts.min.js
*  version : 22.1.37
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase")):"function"==typeof define&&define.amd?define(["SyncfusionBase"],t):"object"==typeof exports?exports.SyncfusionLayouts=t(require("SyncfusionBase")):e.SyncfusionLayouts=t(e.SyncfusionBase)}(this,function(e){return function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t,i){t.exports=e},function(e,t,i){"use strict";var s=i(3);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b})},function(e,t,i){"use strict";var s=i(5);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b})},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return h});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),a=this&&this.__decorate||function(e,t,i,s){var n,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(l=(a<3?n(l):a>3?n(t,i,l):n(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l},l="e-dragging",r="e-drag",o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),a([i.i(s.Property)("")],t.prototype,"id",void 0),a([i.i(s.Property)("")],t.prototype,"cssClass",void 0),a([i.i(s.Property)("")],t.prototype,"header",void 0),a([i.i(s.Property)("")],t.prototype,"content",void 0),a([i.i(s.Property)(!0)],t.prototype,"enabled",void 0),a([i.i(s.Property)(0)],t.prototype,"row",void 0),a([i.i(s.Property)(0)],t.prototype,"col",void 0),a([i.i(s.Property)(1)],t.prototype,"sizeX",void 0),a([i.i(s.Property)(1)],t.prototype,"sizeY",void 0),a([i.i(s.Property)(1)],t.prototype,"minSizeY",void 0),a([i.i(s.Property)(1)],t.prototype,"minSizeX",void 0),a([i.i(s.Property)(null)],t.prototype,"maxSizeY",void 0),a([i.i(s.Property)(null)],t.prototype,"maxSizeX",void 0),a([i.i(s.Property)(1e3)],t.prototype,"zIndex",void 0),t}(s.ChildProperty),h=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.rows=1,a.panelID=0,a.movePanelCalled=!1,a.resizeCalled=!1,a.mOffX=0,a.mOffY=0,a.maxTop=9999,a.maxRows=100,a.mouseX=0,a.mouseY=0,a.minTop=0,a.minLeft=0,a.isInlineRendering=!1,a.removeAllCalled=!1,a.isPanelRemoved=!1,a.panelsSizeY=0,a.resizeHeight=!1,a.eventVar=!1,i.i(s.setValue)("mergePersistData",a.mergePersistPanelData,a),a}return n(t,e),t.prototype.preRender=function(){this.panelCollection=[],this.sortedArray=[],this.gridPanelCollection=[],this.overlapElement=[],this.overlapElementClone=[],this.overlapSubElementClone=[],this.collisionChecker={},this.dragCollection=[],this.elementRef={top:"",left:"",height:"",width:""},this.dimensions=[],this.allItems=[],this.oldRowCol={},this.availableClasses=[],this.setOldRowCol(),this.calculateCellSize(),this.contentTemplateChild=[].slice.call(this.element.children)},t.prototype.setOldRowCol=function(){for(var e=0;e<this.panels.length;e++)this.panels[e].id||(this.panelPropertyChange(this.panels[e],{id:"layout_"+this.panelID.toString()}),this.panelID=this.panelID+1),this.oldRowCol[this.panels[e].id]={row:this.panels[e].row,col:this.panels[e].col}},t.prototype.createPanelElement=function(e,t){var n=this.createElement("div");return e&&e.length>0&&i.i(s.addClass)([n],e),t&&n.setAttribute("id",t),n},t.prototype.render=function(){this.initialize(),this.isRenderComplete=!0,this.showGridLines&&!this.checkMediaQuery()&&this.initGridLines(),this.updateDragArea(),this.renderComplete(),this.renderReactTemplates()},t.prototype.initGridLines=function(){this.table=document.createElement("table");var e=document.createElement("tbody");this.table.classList.add("e-dashboard-gridline-table");for(var t=0;t<this.maxRow();t++){for(var i=document.createElement("tr"),s=0;s<this.columns;s++){var n=document.createElement("td");n.classList.add("e-dashboard-gridline"),this.setAttributes({value:{row:t.toString(),col:s.toString(),sizeX:"1",sizeY:"1"}},n),this.setPanelPosition(n,t,s),this.setHeightAndWidth(n,{row:t,col:s,sizeX:1,sizeY:1}),i.appendChild(n)}e.appendChild(i)}this.table.appendChild(e),this.element.appendChild(this.table),this.renderReactTemplates()},t.prototype.initialize=function(){if(this.updateRowHeight(),this.element.childElementCount>0&&this.element.querySelectorAll(".e-panel").length>0){var e=[];this.setProperties({panels:[]},!0),this.isInlineRendering=!0;for(var t=0;t<this.element.querySelectorAll(".e-panel").length;t++)e.push(this.element.querySelectorAll(".e-panel")[t]);for(var t=0;t<e.length;t++){var n=e[t];this.enableRtl&&i.i(s.addClass)([n],"e-rtl"),this.getInlinePanels(n),this.maxCol(),this.maxRow()}for(var t=0;t<this.panels.length;t++){var n=this.element.querySelector("#"+this.panels[t].id);if(this.setMinMaxValues(this.panels[t]),this.maxColumnValue<this.panels[t].col||this.maxColumnValue<this.panels[t].col+this.panels[t].sizeX){var a=this.maxColumnValue-this.panels[t].sizeX;this.panelPropertyChange(this.panels[t],{col:a<0?0:a})}this.setXYAttributes(n,this.panels[t]);var l=this.renderPanels(n,this.panels[t],this.panels[t].id,!1);this.panelCollection.push(l),this.setHeightAndWidth(n,this.panels[t]),this.tempObject=this,this.mediaQuery&&!window.matchMedia("("+this.mediaQuery+")").matches&&(this.setPanelPosition(n,this.panels[t].row,this.panels[t].col),this.mainElement=n,this.updatePanelLayout(n,this.panels[t]),this.mainElement=null),this.setClasses([n])}this.updateOldRowColumn(),this.checkMediaQuery()&&this.checkMediaQuerySizing()}else this.renderDashBoardCells(this.panels);!this.allowDragging||this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches||this.enableDraggingContent(this.panelCollection),this.sortedPanel(),this.bindEvents(),this.updatePanels(),this.updateCloneArrayObject(),this.checkColumnValue=this.maxColumnValue,this.checkMediaQuery()||this.panelResponsiveUpdate(),this.setEnableRtl()},t.prototype.checkMediaQuery=function(){return this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches},t.prototype.calculateCellSize=function(){this.cellSize=[],this.checkMediaQuery()?this.cellSize[1]=this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio:(this.cellSize[0]=this.element.parentElement&&this.element.parentElement.offsetWidth,this.cellSize[0]=this.element.parentElement&&(this.element.parentElement.offsetWidth-(this.maxCol()-1)*this.cellSpacing[0])/this.maxCol(),this.cellSize[1]=this.cellSize[0]/this.cellAspectRatio)},t.prototype.maxRow=function(e){var t=1;if(this.rows>1&&i.i(s.isNullOrUndefined)(e))return t=this.rows;for(var n=0;n<this.panels.length;n++)this.panels[n].sizeY+this.panels[n].row>t&&(t=this.panels[n].sizeY+this.panels[n].row);return 0===this.panels.length&&(t=this.columns),t},t.prototype.maxCol=function(){var e=1;return e=this.columns,this.maxColumnValue=e,e},t.prototype.updateOldRowColumn=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e].id;if(document.getElementById(t)){var i=parseInt(document.getElementById(t).getAttribute("data-row"),10),s=parseInt(document.getElementById(t).getAttribute("data-col"),10);this.oldRowCol[this.panels[e].id]={row:i,col:s}}}},t.prototype.createSubElement=function(e,t,n){var a=this.createElement("div");return n&&i.i(s.addClass)([a],[n]),e&&e.length>0&&i.i(s.addClass)([a],e),t&&a.setAttribute("id",t),a},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?i.i(s.compile)(document.querySelector(e).innerHTML.trim()):i.i(s.compile)(e)}catch(n){var t=s.SanitizeHtmlHelper.sanitize(e);return i.i(s.compile)(this.enableHtmlSanitizer&&"string"==typeof e?t:e)}},t.prototype.renderTemplate=function(e,t,n,a,l){var r=this.templateParser(e),o=[];if("."!==e[0]&&"#"!==e[0]||"SCRIPT"===document.querySelector(e).tagName){var h=r({},this,l,n,a,null,t);if(h){for(var d=0,p=h;d<p.length;d++){var c=p[d];o.push(c)}i.i(s.append)([].slice.call(o),t)}}else{var u=document.querySelector(e);if(!i.i(s.isNullOrUndefined)(u))return"none"===u.style.display&&u.style.removeProperty("display"),""===u.getAttribute("style")&&u.removeAttribute("style"),void t.appendChild(u);e=e.trim()}},t.prototype.renderPanels=function(e,t,n,a){i.i(s.addClass)([e],["e-panel","e-panel-transition"]);var l=t.cssClass?t.cssClass.split(" "):null;if(this.panelContent=e.querySelector(".e-panel-container")?e.querySelector(".e-panel-container"):this.createSubElement(l,e.id+"_content","e-panel-container"),e.appendChild(this.panelContent),t.enabled||this.disablePanel(e),t.header){var r=e.querySelector(".e-panel-header")?e.querySelector(".e-panel-header"):this.createSubElement([],e.id+"template","");if(i.i(s.addClass)([r],["e-panel-header"]),!e.querySelector(".e-panel-header")){var o=this.element.id+"HeaderTemplate"+n;this.renderTemplate(t.header,r,o,a,"header"),this.panelContent.appendChild(r),this.renderReactTemplates()}}if(t.content){var h=t.cssClass?t.cssClass.split(" "):null;this.panelBody=e.querySelector(".e-panel-content")?e.querySelector(".e-panel-content"):this.createSubElement(h,e.id+"_body","e-panel-content");var d=this.panelContent.querySelector(".e-panel-header")?window.getComputedStyle(this.panelContent.querySelector(".e-panel-header")).height:"0px",p="calc( 100% - "+d+")";if(i.i(s.setStyleAttribute)(this.panelBody,{height:p}),!e.querySelector(".e-panel-content")){var o=this.element.id+"ContentTemplate"+n;this.renderTemplate(t.content,this.panelBody,o,a,"content"),this.panelContent.appendChild(this.panelBody),this.renderReactTemplates()}}return e},t.prototype.disablePanel=function(e){i.i(s.addClass)([e],["e-disabled"])},t.prototype.getInlinePanels=function(e){var t={sizeX:e.hasAttribute("data-sizex")?parseInt(e.getAttribute("data-sizex"),10):1,sizeY:e.hasAttribute("data-sizey")?parseInt(e.getAttribute("data-sizey"),10):1,minSizeX:e.hasAttribute("data-minsizex")?parseInt(e.getAttribute("data-minsizex"),10):1,minSizeY:e.hasAttribute("data-minsizey")?parseInt(e.getAttribute("data-minsizey"),10):1,maxSizeX:e.hasAttribute("data-maxsizex")?parseInt(e.getAttribute("data-maxsizex"),10):null,maxSizeY:e.hasAttribute("data-maxsizey")?parseInt(e.getAttribute("data-maxsizey"),10):null,row:e.hasAttribute("data-row")?parseInt(e.getAttribute("data-row"),10):0,col:e.hasAttribute("data-col")?parseInt(e.getAttribute("data-col"),10):0,id:e.getAttribute("id"),zIndex:e.hasAttribute("data-zindex")?parseInt(e.getAttribute("data-zIndex"),10):1e3,header:e.querySelector(".e-panel-header")&&".e-panel-header",content:e.querySelector(".e-panel-content")&&".e-panel-content"};t.id||(t.id="layout_"+this.panelID.toString(),e.setAttribute("id",t.id),this.panelID=this.panelID+1),i.i(s.isUndefined)(t.enabled)&&(t.enabled=!0),e.style.zIndex=""+t.zIndex;var n=new o(this,"panels",t,!0);this.panels.push(n),this.oldRowCol[t.id]={row:t.row,col:t.col}},t.prototype.resizeEvents=function(){if(this.allowResizing)for(var e=this.element.querySelectorAll(".e-panel .e-panel-container .e-resize"),t=0;t<e.length;t++){var i="msie"===s.Browser.info.name?"mousedown pointerdown":"mousedown";s.EventHandler.add(e[t],i,this.downResizeHandler,this),"msie"!==s.Browser.info.name&&s.EventHandler.add(e[t],"touchstart",this.touchDownResizeHandler,this)}},t.prototype.bindEvents=function(){this.refreshListener=this.refresh.bind(this),s.EventHandler.add(window,"resize",this.refreshListener),this.resizeEvents()},t.prototype.downResizeHandler=function(e){for(var t=i.i(s.closest)(e.currentTarget,".e-panel"),n=0;this.panels.length>n;n++)if(this.panels[n].enabled&&this.panels[n].id===t.id){this.downHandler(e),this.lastMouseX=e.pageX,this.lastMouseY=e.pageY;var a="msie"===s.Browser.info.name?"mousemove pointermove":"mousemove",l="msie"===s.Browser.info.name?"mouseup pointerup":"mouseup";this.isMouseMoveBound||(s.EventHandler.add(document,a,this.moveResizeHandler,this),this.isMouseMoveBound=!0),this.isMouseUpBound||(s.EventHandler.add(document,l,this.upResizeHandler,this),this.isMouseUpBound=!0)}},t.prototype.downHandler=function(e){this.resizeCalled=!1,this.panelsInitialModel=this.cloneModels(this.panels);var t=i.i(s.closest)(e.currentTarget,".e-panel"),n={event:e,element:t,isInteracted:!0};this.trigger("resizeStart",n),this.downTarget=e.currentTarget,this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),i.i(s.addClass)([this.element],["e-prevent"]),this.element.appendChild(this.shadowEle),this.renderReactTemplates(),this.elementX=parseFloat(t.style.left),this.elementY=parseFloat(t.style.top),this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight,this.originalWidth=this.getCellInstance(t.id).sizeX,this.originalHeight=this.getCellInstance(t.id).sizeY,this.previousRow=this.getCellInstance(t.id).row},t.prototype.touchDownResizeHandler=function(e){this.downHandler(e),this.lastMouseX=e.changedTouches[0].pageX,this.lastMouseY=e.changedTouches[0].pageY,this.isMouseMoveBound||(s.EventHandler.add(document,"touchmove",this.touchMoveResizeHandler,this),this.isMouseMoveBound=!0),this.isMouseUpBound||(s.EventHandler.add(document,"touchend",this.upResizeHandler,this),this.isMouseUpBound=!0)},t.prototype.getCellSize=function(){return[this.cellSize[0],this.cellSize[1]]},t.prototype.updateMaxTopLeft=function(e){this.moveTarget=this.downTarget;var t=i.i(s.closest)(this.moveTarget,".e-panel"),n={event:e,element:t,isInteracted:!0};this.trigger("resize",n)},t.prototype.updateResizeElement=function(e){this.maxLeft=this.element.offsetWidth-1,this.maxTop=this.cellSize[1]*this.maxRows-1,i.i(s.removeClass)([e],"e-panel-transition"),i.i(s.addClass)([e],[l]);for(var t=["e-east","e-west","e-north","e-south","e-south-east","e-north-east","e-north-west","e-south-west"],n=0;n<this.moveTarget.classList.length;n++)-1!==t.indexOf(this.moveTarget.classList[n])&&(this.handleClass=this.moveTarget.classList[n])},t.prototype.moveResizeHandler=function(e){this.updateMaxTopLeft(e);var t=i.i(s.closest)(this.moveTarget,".e-panel");if(this.lastMouseX!==e.pageX&&this.lastMouseY!==e.pageY){this.updateResizeElement(t);var n=this.getCellInstance(t.getAttribute("id"));this.mouseX=e.pageX,this.mouseY=e.pageY;var a=this.mouseY-this.lastMouseY+this.mOffY,l=this.mouseX-this.lastMouseX+this.mOffX;this.mOffX=this.mOffY=0,this.lastMouseY=this.mouseY,this.lastMouseX=this.mouseX,this.resizingPanel(t,n,l,a)}},t.prototype.touchMoveResizeHandler=function(e){this.updateMaxTopLeft(e);var t=i.i(s.closest)(this.moveTarget,".e-panel");if(this.lastMouseX!==e.changedTouches[0].pageX&&this.lastMouseY!==e.changedTouches[0].pageY){this.updateResizeElement(t);var n=this.getCellInstance(t.getAttribute("id"));this.mouseX=e.changedTouches[0].pageX,this.mouseY=e.changedTouches[0].pageY;var a=this.mouseX-this.lastMouseX+this.mOffX,l=this.mouseY-this.lastMouseY+this.mOffY;this.mOffX=this.mOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.resizingPanel(t,n,a,l)}},t.prototype.resizingPanel=function(e,t,i,s){var n=this.getCellInstance(e.id).sizeX,a=this.getCellInstance(e.id).sizeY,l=s,r=i;if(this.handleClass.indexOf("north")>=0&&(this.elementHeight-l<this.getMinHeight(t)?(s=this.elementHeight-this.getMinHeight(t),this.mOffY=l-s):t.maxSizeY&&this.elementHeight-l>this.getMaxHeight(t)?(s=this.elementHeight-this.getMaxHeight(t),this.mOffY=l-s):this.elementY+l<this.minTop&&(s=this.minTop-this.elementY,this.mOffY=l-s),this.elementY+=s,this.elementHeight-=s),this.handleClass.indexOf("south")>=0&&(this.elementHeight+l<this.getMinHeight(t)?(s=this.getMinHeight(t)-this.elementHeight,this.mOffY=l-s):t.maxSizeY&&this.elementHeight+l>this.getMaxHeight(t)&&(s=this.getMaxHeight(t)-this.elementHeight,this.mOffY=l-s),this.elementHeight+=s),this.handleClass.indexOf("west")>=0&&(this.elementWidth-r<this.getMinWidth(t)?(i=this.elementWidth-this.getMinWidth(t),this.mOffX=r-i):t.maxSizeX&&this.elementWidth-r>this.getMaxWidth(t)?(i=this.elementWidth-this.getMaxWidth(t),this.mOffX=r-i):this.elementX+r<this.minLeft&&(i=this.minLeft-this.elementX,this.mOffX=r-i),this.elementX+=i,this.elementWidth-=i),this.handleClass.indexOf("east")>=0){this.elementWidth+r<this.getMinWidth(t)?(i=this.getMinWidth(t)-this.elementWidth,this.mOffX=r-i):t.maxSizeX&&this.elementWidth+r>this.getMaxWidth(t)&&(i=this.getMaxWidth(t)-this.elementWidth,this.mOffX=r-i);var o=this.elementWidth;this.elementWidth+=i;var h=this.pixelsToColumns(this.elementWidth-t.sizeX*this.cellSpacing[1],!0);this.columns<t.col+h&&(this.elementWidth=o)}e.style.top=this.elementY+"px",e.style.left=this.elementX+"px",e.style.width=this.elementWidth+"px",e.style.height=this.elementHeight+"px";var d=this.getResizeRowColumn(t);if(d.col+d.sizeX>this.columns&&this.panelPropertyChange(d,{sizeX:d.sizeX-1}),this.shadowEle.style.top=d.row*this.getCellSize()[1]+d.row*this.cellSpacing[1]+"px",this.handleClass.indexOf("west")>=0?this.shadowEle.style.left=d.col*this.getCellSize()[0]+(d.col-1)*this.cellSpacing[0]+"px":this.shadowEle.style.left=d.col*this.getCellSize()[0]+d.col*this.cellSpacing[0]+"px",this.shadowEle.style.height=d.sizeY*(this.getCellSize()[1]+this.cellSpacing[1])+"px",this.shadowEle.style.width=d.sizeX*(this.getCellSize()[0]+this.cellSpacing[0])+"px",n!==d.sizeX||a!==d.sizeY){n=d.sizeX,a=d.sizeY;var p=this.getCellInstance(e.id),c={attributes:{row:p.row.toString(),col:p.col.toString(),sizeX:p.sizeX.toString(),sizeY:p.sizeY.toString()}};this.setAttributes(c,e),this.mainElement=e,this.checkCollision=[],this.updatePanelLayout(e,this.getCellInstance(e.id)),this.updateOldRowColumn(),this.sortedPanel()}},t.prototype.upResizeHandler=function(e){if(!i.i(s.isNullOrUndefined)(this.downTarget)){this.upTarget=this.downTarget;var t=i.i(s.closest)(this.upTarget,".e-panel"),n={event:e,element:t,isInteracted:!0};if(t){i.i(s.addClass)([t],"e-panel-transition");var a="msie"===s.Browser.info.name?"mousemove pointermove":"mousemove",r="msie"===s.Browser.info.name?"mouseup pointerup":"mouseup";s.EventHandler.remove(document,a,this.moveResizeHandler),s.EventHandler.remove(document,r,this.upResizeHandler),"msie"!==s.Browser.info.name&&(s.EventHandler.remove(document,"touchmove",this.touchMoveResizeHandler),s.EventHandler.remove(document,"touchend",this.upResizeHandler)),this.isMouseUpBound=!1,this.isMouseMoveBound=!1,this.shadowEle&&i.i(s.detach)(this.shadowEle),this.shadowEle=null;var o=this.getCellInstance(t.getAttribute("id"));this.setPanelPosition(t,o.row,o.col),this.setHeightAndWidth(t,o)}i.i(s.removeClass)([t],[l]),this.trigger("resizeStop",n),this.resizeCalled=!1,this.lastMouseX=this.lastMouseY=void 0,this.mOffX=this.mOffY=0,this.mainElement=null,this.allowFloating&&this.moveItemsUpwards(),this.updatePanels(),this.updateCloneArrayObject(),this.checkForChanges(!0)}},t.prototype.getResizeRowColumn=function(e){var t=!1,i=e.col;-1!==["e-west","e-south-west"].indexOf(this.handleClass)&&(i=this.pixelsToColumns(this.elementX,!1));var s=e.row;-1!==["e-north"].indexOf(this.handleClass)&&(s=this.pixelsToRows(this.elementY,!1),this.previousRow!==s&&(this.previousRow=s,t=!0));var n=e.sizeX;-1===["e-north","e-south"].indexOf(this.handleClass)&&(n=this.pixelsToColumns(this.elementWidth-n*this.cellSpacing[1],!0));var a=e.sizeY;return-1===["e-east","e-west"].indexOf(this.handleClass)&&("e-north"!==this.handleClass||t)&&(a=this.pixelsToRows(this.elementHeight-a*this.cellSpacing[0],!0)),e.col+n>this.columns&&(e.sizeX=n-1),(s>-1&&i>-1&&n+i<=this.maxCol()&&a+s<=this.maxRow()&&0===this.collisions(s,i,n,a,this.getPanelBase(e.id)).length||!1!==this.allowPushing)&&this.panelPropertyChange(e,{row:s,col:i,sizeX:n,sizeY:a}),e},t.prototype.pixelsToColumns=function(e,t){return t?Math.ceil(e/this.cellSize[0]):Math.floor(e/(this.cellSize[0]+this.cellSpacing[0]))},t.prototype.pixelsToRows=function(e,t){return t?Math.round(e/this.cellSize[1]):Math.round(e/(this.cellSize[1]+this.cellSpacing[0]))},t.prototype.getMinWidth=function(e){return e.minSizeX*this.getCellSize()[0]+(e.minSizeX-1)*this.cellSpacing[0]},t.prototype.getMaxWidth=function(e){return e.maxSizeX*this.getCellSize()[0]},t.prototype.getMinHeight=function(e){return e.minSizeY*this.getCellSize()[1]+(e.minSizeY-1)*this.cellSpacing[1]},t.prototype.getMaxHeight=function(e){return e.maxSizeY*this.getCellSize()[1]},t.prototype.sortedPanel=function(){this.sortedArray=[];for(var e=0,t=this.panelCollection.length;e<t;++e)this.sortItem(this.panelCollection[e])},t.prototype.moveItemsUpwards=function(){if(!1!==this.allowFloating){for(var e=0,t=this.sortedArray.length;e<t;++e){var i=this.sortedArray[e];if(i)for(var s=0,n=i.length;s<n;++s){var a=i[s];a&&this.moveItemUpwards(a)}}this.updateGridLines()}},t.prototype.moveItemUpwards=function(e){if(!1!==this.allowFloating&&e!==this.mainElement){for(var t=this.getCellInstance(e.id).col,i=parseInt(e.getAttribute("data-sizeY"),10),s=parseInt(e.getAttribute("data-sizeX"),10),n=null,a=null,l=parseInt(e.getAttribute("data-row"),10)-1;l>-1;){if(0!==this.collisions(l,t,s,i,e).length)break;n=l,a=t,--l}null!==n&&this.sortItem(e,n,a)}},t.prototype.sortItem=function(e,t,i){this.overlapElement=[];var s=parseInt(e.getAttribute("data-col"),10),n=parseInt(e.getAttribute("data-row"),10);if(this.sortedArray[n]||(this.sortedArray[n]=[]),this.sortedArray[n][s]=e,void 0!==e&&void 0!==t&&void 0!==i){if(void 0!==this.oldRowCol[e.id]&&null!==this.oldRowCol[e.id].row&&void 0!==this.oldRowCol[e.id].col){var a=this.sortedArray[this.oldRowCol[e.id].row];this.oldRowCol[e.id]&&a[this.oldRowCol[e.id].col]===e&&(delete a[this.oldRowCol[e.id].col],this.updateOldRowColumn(),this.sortedPanel())}this.oldRowCol[e.id].row=t,this.oldRowCol[e.id].row=i,this.sortedArray[n]||(this.sortedArray[n]=[]),this.sortedArray[n][s]=e,-1===this.allItems.indexOf(e)&&this.allItems.push(e),this.panelPropertyChange(this.getCellInstance(e.id),{row:t,col:i});var l=this.getCellInstance(e.id);this.setAttributes({value:{col:l.col.toString(),row:l.row.toString()}},e),this.updateLayout(e,this.getCellInstance(e.id))}},t.prototype.updateLayout=function(e,t){this.setPanelPosition(e,t.row,t.col),this.setHeightAndWidth(e,t),this.updateRowHeight(),this.sortedPanel()},t.prototype.refresh=function(){if(this.panelsSizeY=0,this.updateDragArea(),this.checkMediaQuery())this.checkMediaQuerySizing();else{if(this.element.classList.contains("e-responsive")){i.i(s.removeClass)([this.element],["e-responsive"]);for(var e=this.element.querySelectorAll((this.element.id?"#"+this.element.id+" > ":"")+".e-panel"),t=0;t<e.length;t++){var n=e[t],a=this.getCellInstance(n.id),l=parseInt(n.getAttribute("data-row"),10),r=parseInt(n.getAttribute("data-col"),10);this.panelPropertyChange(a,{row:l,col:r}),this.setHeightAndWidth(n,this.getCellInstance(n.id)),this.setPanelPosition(n,l,r),this.updateRowHeight()}}this.panelResponsiveUpdate(),this.updateGridLines()}this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),this.resizeEvents(),this.checkDragging(this.dragCollection)},t.prototype.updateGridLines=function(){this.element.querySelector(".e-dashboard-gridline-table")&&(this.table&&i.i(s.detach)(this.table),this.initGridLines())},t.prototype.checkDragging=function(e){if(this.checkMediaQuery()||!this.allowDragging)for(var t=0;t<e.length;t++)e[t].destroy();else{for(var t=0;t<e.length;t++)e[t].destroy();this.enableDraggingContent(this.panelCollection)}},t.prototype.sortPanels=function(){for(var e=[],t=this,i=0;i<=this.rows;i++)!function(i){for(var s=0;s<t.columns;s++)!function(s){t.panels.filter(function(t){t.row===i&&t.col===s&&e.push(t)})}(s)}(i);return e},t.prototype.checkMediaQuerySizing=function(){i.i(s.addClass)([this.element],["e-responsive"]);var e;e=this.isPanelRemoved&&this.panels?this.panels:this.sortPanels(),this.updatedRows=e.length;for(var t=0;t<e.length;t++){var n=document.getElementById(e[t].id),a=void 0;n&&(i.i(s.setStyleAttribute)(n,{width:"100%"}),n.style.height=" "+(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)*e[t].sizeY+"px",e[t].sizeY>1&&(a=(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)*e[t].sizeY+parseInt((Math.round(e[t].sizeY/2)*this.cellSpacing[1]).toString(),0),n.style.height=a+"px"),this.resizeHeight=!0,this.panelPropertyChange(e[t],{row:t,col:0}),this.setPanelPosition(n,e[t].row,e[t].col),this.panelsSizeY=this.panelsSizeY+e[t].sizeY,this.setClasses(this.panelCollection),this.checkDragging(this.dragCollection),this.removeResizeClasses(this.panelCollection))}this.updateRowHeight()},t.prototype.panelResponsiveUpdate=function(){this.element.classList.add("e-responsive"),this.calculateCellSize();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],i=this.getCellInstance(t.id);this.setHeightAndWidth(t,i)}for(var e=0;e<this.panels.length;e++)this.setPanelPosition(document.getElementById(this.panels[e].id),this.panels[e].row,this.panels[e].col);this.updateRowHeight()},t.prototype.updateRowHeight=function(){this.getRowColumn(),this.setHeightWidth()},t.prototype.setHeightWidth=function(){var e,t;if(this.checkMediaQuery()){for(var n=0,a=0;a<this.panels.length;a++)this.panels[a].sizeY&&(n+=this.panels[a].sizeY);e=n*(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)+(n-1)*this.cellSpacing[1]+"px"}else e=this.maxRow()*(this.cellSize[0]/this.cellAspectRatio)+(this.maxRow()-1)*this.cellSpacing[1]+"px";i.i(s.setStyleAttribute)(this.element,{height:e}),t=window.getComputedStyle(this.element).width,i.i(s.setStyleAttribute)(this.element,{width:t})},t.prototype.setHeightAndWidth=function(e,t){i.i(s.setStyleAttribute)(e,{height:i.i(s.formatUnit)(this.setXYDimensions(t)[0])}),i.i(s.setStyleAttribute)(e,{width:i.i(s.formatUnit)(this.setXYDimensions(t)[1])})},t.prototype.renderCell=function(e,t,n){var a;this.dimensions=this.setXYDimensions(e),i.i(s.isUndefined)(e.enabled)&&(e.enabled=!0),this.contentTemplateChild.length>0&&!i.i(s.isNullOrUndefined)(n)?(a=this.contentTemplateChild[n],e.cssClass&&i.i(s.addClass)([a],[e.cssClass]),e.id&&a.setAttribute("id",e.id)):a=this.createPanelElement(e.cssClass?e.cssClass.split(" "):null,e.id),a.style.zIndex=""+e.zIndex,this.element.appendChild(a),this.renderReactTemplates();var l=this.renderPanels(a,e,e.id,t);return this.panelCollection.push(l),this.setXYAttributes(a,e),this.setHeightAndWidth(a,e),a},t.prototype.setPanelPosition=function(e,t,n){if(e){this.checkMediaQuery()&&this.calculateCellSize();var a=this.getCellSize()[1],l=this.getCellSize()[0],r=0===n?0:n*(l+this.cellSpacing[0]),o=0===t?0:t*(a+this.cellSpacing[1]);this.checkMediaQuery()&&(o=0===t?0:this.panelsSizeY*(a+this.cellSpacing[1])),i.i(s.setStyleAttribute)(e,{left:r+"px",top:o+"px"})}},t.prototype.getRowColumn=function(){if(this.rows=null,this.element.querySelectorAll(".e-panel").length>0&&!this.updatedRows)for(var e=this.element.querySelectorAll(".e-panel"),t=0;t<e.length;t++){var i=e[t],s=parseInt(i.getAttribute("data-row"),10),n=parseInt(i.getAttribute("data-sizeY"),10);this.rows=Math.max(this.rows,s+n)}else{this.updatedRows&&(this.rows=this.updatedRows,this.updatedRows=null);for(var t=0;t<this.panels.length;t++)this.rows=Math.max(this.rows,this.panels[t].row)}},t.prototype.setMinMaxValues=function(e){!e.sizeX||e.sizeX<e.minSizeX?this.panelPropertyChange(e,{sizeX:e.minSizeX}):e.maxSizeX&&e.sizeX>e.maxSizeX?this.panelPropertyChange(e,{sizeX:e.maxSizeX}):e.sizeX>this.columns?this.panelPropertyChange(e,{sizeX:this.columns}):this.panelPropertyChange(e,{sizeX:e.sizeX}),!e.sizeY||e.sizeY<e.minSizeY?this.panelPropertyChange(e,{sizeY:e.minSizeY}):e.maxSizeY&&e.sizeY>e.maxSizeY?this.panelPropertyChange(e,{sizeY:e.maxSizeY}):this.panelPropertyChange(e,{sizeY:e.sizeY})},t.prototype.checkMinMaxValues=function(e){e.col+e.sizeX>this.columns&&this.panelPropertyChange(e,{sizeX:e.sizeX+(this.columns-(e.col+e.sizeX))})},t.prototype.panelPropertyChange=function(e,t){e.setProperties(t,!0)},t.prototype.renderDashBoardCells=function(e){if(this.element.querySelectorAll(".e-panel").length>0||this.panels.length>0)for(var t=0;t<e.length;t++){this.gridPanelCollection.push(e[t]),this.setMinMaxValues(e[t]),(this.maxColumnValue<e[t].col||this.maxColumnValue<e[t].col+e[t].sizeX)&&this.panelPropertyChange(e[t],{col:this.maxColumnValue-e[t].sizeX});var n=this.renderCell(e[t],!1,t);this.enableRtl&&i.i(s.addClass)([n],"e-rtl"),this.element.appendChild(n),this.renderReactTemplates(),this.checkMediaQuery()&&t===e.length-1?this.checkMediaQuerySizing():(this.setPanelPosition(n,e[t].row,e[t].col),this.mainElement=n,this.updatePanelLayout(n,e[t]),this.mainElement=null)}this.setClasses(this.panelCollection)},t.prototype.collisions=function(e,t,i,s,n){var a=[];i&&s||(i=s=1),!n||n instanceof Array||(n=[n]);for(var l,r=0;r<s;++r)for(var o=0;o<i;++o)!(l=this.getPanel(e+r,t+o,n))||n&&-1!==n.indexOf(document.getElementById(l.id))||-1!==a.indexOf(document.getElementById(l.id))||a.push(document.getElementById(l.id));return a},t.prototype.rightWardsSpaceChecking=function(e,t,i){var s=this,n=[],a=[];if(e.forEach(function(e){var i=parseInt(e.getAttribute("data-col"),10),a=parseInt(e.getAttribute("data-sizeX"),10);if(t<s.columns&&i>=t)if(a>1)for(var l=i;l<i+a;l++)n.push(l);else n.push(i)}),n.length>0)for(var l=t+1;l<=this.columns-1;l++)-1===n.indexOf(l)&&l!==t&&-1===a.indexOf(l)&&a.push(l);var r=this.getOccupiedColumns(i);return r.forEach(function(e){e>t&&-1!==a.indexOf(e)&&a.splice(a.indexOf(e),1)}),this.getOccupiedColumns(this.checkingElement).forEach(function(e){e>parseInt(i.getAttribute("data-col"),10)&&-1===r.indexOf(e)&&-1===a.indexOf(e)&&a.push(e)}),a=a.sort(function(e,t){return e-t})},t.prototype.getOccupiedColumns=function(e){for(var t=[],i=parseInt(e.getAttribute("data-sizeX"),10),s=parseInt(e.getAttribute("data-col"),10),n=s;n<s+i&&n<=this.columns;n++)t.push(n);return t},t.prototype.leftWardsSpaceChecking=function(e,t,i){var s=this,n=[],a=[];if(e.forEach(function(e){var i=parseInt(e.getAttribute("data-col"),10),n=parseInt(e.getAttribute("data-sizeX"),10);if(t<=s.columns&&i<=t)if(n>1)for(var l=i;l<i+n;l++)a.push(l);else a.push(i)}),a.length>0)for(var l=0;l<=t;l++)-1===a.indexOf(l)&&l!==t&&-1===n.indexOf(l)&&n.push(l);var r=this.getOccupiedColumns(i);return r.forEach(function(e){e<t&&-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)}),this.getOccupiedColumns(this.checkingElement).forEach(function(e){e<parseInt(i.getAttribute("data-col"),10)&&-1===r.indexOf(e)&&-1===n.indexOf(e)&&n.push(e)}),n=n.sort(function(e,t){return e-t}),n=n.reverse()},t.prototype.adjustmentAvailable=function(e,t,n,a,l){this.leftAdjustable=void 0,this.rightAdjustable=void 0;var r,o=!1,h=[];this.topAdjustable=void 0;var d=parseInt(l.getAttribute("data-sizeX"),10),p=parseInt(l.getAttribute("data-col"),10);h=this.getRowElements(this.collisions(e,0,this.columns,n,[])),-1===h.indexOf(l)&&h.push(l);var c=this.leftWardsSpaceChecking(h,t,l);if(c.length>0?(this.leftAdjustable=this.isLeftAdjustable(c,l,e,t,a,n),this.spacedColumnValue!==p-this.getCellInstance(this.checkingElement.id).sizeX&&(this.leftAdjustable=!1),this.leftAdjustable?this.rightAdjustable=!1:(this.leftAdjustable=!1,r=this.rightWardsSpaceChecking(h,t,l),this.rightAdjustable=r.length>0&&this.isRightAdjustable(r,l,e,t,a,n),this.spacedColumnValue!==d+p&&(this.rightAdjustable=!1),this.rightAdjustable||(this.rightAdjustable=!1))):(r=this.rightWardsSpaceChecking(h,t,l),this.rightAdjustable=r.length>0&&this.isRightAdjustable(r,l,e,t,a,n),this.spacedColumnValue!==d+p&&(this.rightAdjustable=!1),this.rightAdjustable&&(this.leftAdjustable=!1)),!this.rightAdjustable&&!this.leftAdjustable&&e>0){var u=this.getCellInstance(l.id).row,g=!1;this.startRow!==u&&(g=!0);for(var m=e;m>=0;m--){var f=this.getCellInstance(l.id).sizeY>1&&g?this.checkingElement:l;m!==u&&m===u-n&&0===this.collisions(m,t,a,n,f).length&&(g=!1,this.topAdjustable=!0,this.spacedRowValue=i.i(s.isNullOrUndefined)(this.spacedRowValue)?m:this.spacedRowValue,this.spacedColumnValue=t)}}return(this.rightAdjustable||this.leftAdjustable||this.topAdjustable)&&(o=!0,i.i(s.isNullOrUndefined)(this.spacedRowValue)&&(this.spacedRowValue=e)),o},t.prototype.isXSpacingAvailable=function(e,t){for(var i=!1,s=[],n=0;n<e.length;n++)if(e[n+1]-e[n]==1||e[n+1]-e[n]==-1){if(s.push(e[n]),2===t&&s.push(e[n+1]),n===e.length-2&&(s.push(e[n+1]),s.length>t&&s.splice(-1)),s.length===t)return i=!0,this.spacedColumnValue=s.sort(function(e,t){return e-t})[0],this.spacedColumnValue<0&&(this.spacedColumnValue=1),i}else s=[];return i},t.prototype.getRowElements=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},t.prototype.isLeftAdjustable=function(e,t,i,s,n,a){var l;if(1===n&&1===a&&e.length>0)this.spacedColumnValue=e[0],l=!0;else if(n>1&&1===a)l=this.isXSpacingAvailable(e,n);else if(a>1)if(1===n){var r=void 0;if(e.length>=1&&(r=!0),r)for(var o=0;o<e.length;o++){var h=this.collisions(i,e[o],n,a,this.checkingElement);if(0===h.length)return this.spacedColumnValue=e[o],l=!0;l=!1}}else l=this.replacable(e,n,i,a,t);return l},t.prototype.isRightAdjustable=function(e,t,i,s,n,a){var l;if(1===n&&1===a&&e.length>0)this.spacedColumnValue=e[0],l=!0;else if(n>1&&1===a)l=this.isXSpacingAvailable(e,n);else if(a>1)if(1===n){var r=void 0;if(e.length>=1&&(r=!0),r)for(var o=0;o<e.length;o++){for(var h=this.collisions(i,e[o],n,a,this.checkingElement),d=0;d<h.length;d++)parseInt(t.getAttribute("data-col"),10)!==e[o]&&h.splice(h.indexOf(h[d]),1);if(0===h.length)return l=!0,this.spacedColumnValue=e[o],l;l=!1}}else l=this.replacable(e,n,i,a,t);return l},t.prototype.replacable=function(e,t,i,s,n){for(var a,l=[],r=0;r<e.length;r++){if(this.isXSpacingAvailable(e,t)){var o=[];if(o.push(this.checkingElement),o.push(n),0===l.length)return a=!0,this.spacedColumnValue=this.spacedColumnValue,a;a=!1}}return a},t.prototype.sortCollisionItems=function(e){for(var t,i=[],s=this,n=this.rows-1;n>=0;n--)!function(n){t=[],e.forEach(function(e){e&&e.getAttribute("data-row")===n.toString()&&t.push(e)});for(var a=s.columns-1;a>=0;a--)!function(e){t.forEach(function(t){t&&t.getAttribute("data-col")===e.toString()&&i.push(t)})}(a)}(n);return i},t.prototype.updatedModels=function(e,t,i){var s=this,n=[];return this.mainElement||this.sortedPanel(),e.forEach(function(a){s.checkingElement=a;var l=s.getCellInstance(a.id),r=!s.adjustmentAvailable(l.row,l.col,l.sizeY,l.sizeX,i);if(l.sizeX>1&&r)for(var o=l.row;o<t.row+t.sizeY;o++){var h=s.collisions(o,l.col,l.sizeX,l.sizeY,a);h.forEach(function(t){e.indexOf(t)>=0&&-1===n.indexOf(t)&&n.push(t)})}}),n.forEach(function(t){n.indexOf(t)>=0&&e.splice(e.indexOf(t),1)}),e},t.prototype.resetLayout=function(e){var t=this.collisions(e.row,e.col,e.sizeX,e.sizeY,this.mainElement);if(!this.mainElement||this.addPanelCalled||this.resizeCalled||this.movePanelCalled)return t;if(this.mainElement&&this.oldRowCol!==this.cloneObject)for(var i=0;i<this.panels.length;i++){var s=document.getElementById(this.panels[i].id);if(s!==this.mainElement){var n=this.cloneObject[s.id].row,a=this.cloneObject[s.id].col;this.setPanelPosition(s,n,a),this.panelPropertyChange(this.getCellInstance(s.id),{row:n,col:a}),this.setAttributes({value:{col:a.toString(),row:n.toString()}},s),this.updateOldRowColumn()}}return this.sortedArray=this.cloneArray,t=this.collisions(e.row,e.col,e.sizeX,e.sizeY,this.mainElement),this.sortedPanel(),this.updateOldRowColumn(),this.checkCollision&&this.checkCollision.length>0&&-1===t.indexOf(this.checkCollision[0])&&this.cloneObject[this.checkCollision[0].id].row===e.row&&t.push(this.checkCollision[0]),t},t.prototype.swapAvailability=function(e,t){for(var i=!0,s=this.getCellInstance(t.id),n=0;n<e.length;n++)for(var a=this.getCellInstance(e[n].id),l=1;l<s.sizeY;l++){var r=[];r.push(t),r.push(e[n]);var o=this.collisions(s.row+l,a.col,a.sizeX,a.sizeY,r);if(o.length>0)return i=!1,!1}return i},t.prototype.checkForSwapping=function(e,t){if(!this.mainElement||0===e.length)return!1;var i,s=parseInt(e[0].getAttribute("data-row"),10);if(this.startRow<s?i=1:this.startRow>s&&(i=0),!this.swapAvailability(e,t))return!1;for(var n=!1,a=0;a<e.length;a++)if(e.length>=1&&this.cloneObject[this.mainElement.id]&&this.cloneObject[this.mainElement.id].row===this.oldRowCol[this.mainElement.id].row)return!1;for(var l=0===i?this.getCellInstance(this.mainElement.id).row+this.getCellInstance(this.mainElement.id).sizeY:this.startRow,r=0;r<e.length;r++){var o=this.getCellInstance(e[r].id),h=this.getCellInstance(t.id),d=[];if(1===o.sizeY&&-1===d.indexOf(e[r]))d.push(e[r]);else if(o.sizeY>1&&-1===d.indexOf(e[r]))if(1===i&&h.row===this.cloneObject[o.id].row+o.sizeY-1)d.push(e[r]);else{if(0!==i||h.row!==this.cloneObject[o.id].row)return!1;d.push(e[r])}o.sizeY<=h.sizeY&&-1===d.indexOf(e[r])&&d.push(e[r]),d.push(this.mainElement);if(this.collisions(l,o.col,o.sizeX,o.sizeY,d).length>0)return n=!1;r===e.length-1&&(n=!0)}return n},t.prototype.swapItems=function(e,t,i){var s,n=this,a=[];a.push(t);var l=parseInt(e[0].getAttribute("data-row"),10);this.startRow<l?s=1:this.startRow>l&&(s=0);var r=0===s?l+i.sizeY:this.startRow;if(!this.movePanelCalled){var o=this.getCellInstance(e[0].id);this.panelPropertyChange(i,{row:0===s?l:r+o.sizeY})}for(var h=0;h<e.length;h++)a.push(e[h]),this.setPanelPosition(e[h],r,this.getCellInstance(e[h].id).col),this.panelPropertyChange(this.getCellInstance(e[h].id),{row:r}),e[h].setAttribute("data-row",r.toString());t.setAttribute("data-row",i.row.toString()),this.setPanelPosition(this.shadowEle,i.row,i.col);for(var d=0;d<this.panels.length;d++)this.oldRowCol[this.panels[d].id]={row:this.panels[d].row,col:this.panels[d].col};this.startRow=i.row,this.updateOldRowColumn(),a.forEach(function(e){n.cloneObject[e.id]=n.oldRowCol[e.id];for(var t=n.getCellInstance(e.id),i=0;i<n.sortedArray.length;i++)if(n.sortedArray[i])for(var s=0;s<n.sortedArray[i].length;s++)n.sortedArray[i][s]===e&&(n.sortedArray[i][s]=void 0);n.sortedArray[t.row]||(n.sortedArray[t.row]=[]),n.sortedArray[t.row][t.col]=e,n.cloneArray=n.sortedArray})},t.prototype.updatePanelLayout=function(e,t){this.collisionChecker={};var n=[],a=[];if(n=this.mainElement&&this.isRenderComplete?this.resetLayout(t):this.collisions(t.row,t.col,t.sizeX,t.sizeY,e),n.length>0)if(n=this.sortCollisionItems(n),n=this.updatedModels(n,t,e),!i.i(s.isNullOrUndefined)(this.startRow)&&this.checkForSwapping(n,e))this.swapItems(n,e,t);else for(var l=0;l<n.length;l++){var r=this.getCellInstance(n[l].id);if(this.checkingElement=n[l],this.spacedRowValue=null,this.spacedColumnValue=null,this.adjustmentAvailable(r.row,r.col,r.sizeY,r.sizeX,e)&&!i.i(s.isNullOrUndefined)(this.spacedColumnValue)){this.setPanelPosition(n[l],this.spacedRowValue,this.spacedColumnValue),this.oldRowCol[n[l].id]={row:this.spacedRowValue,col:this.spacedColumnValue};var o={attributes:{row:this.spacedRowValue.toString(),col:this.spacedColumnValue.toString()}};if(this.setAttributes(o,n[l]),this.panelPropertyChange(r,{col:this.spacedColumnValue,row:this.spacedRowValue}),this.topAdjustable&&this.allowFloating&&(this.updatePanels(),this.updateCloneArrayObject()),this.spacedRowValue=null,l<n.length)continue}else a.push(n[l])}if(a.length>0){var h=this;a.forEach(function(e){-1===h.overlapElement.indexOf(e)&&h.overlapElement.push(e)}),this.overlapElement&&-1!==this.overlapElement.indexOf(e)&&this.overlapElement.splice(this.overlapElement.indexOf(e),1),a.length>0&&(this.updateRowColumn(t.row,this.overlapElement,e),this.checkForCompletePushing())}this.isSubValue||this.sortedPanel(),this.updateRowHeight(),this.updateGridLines()},t.prototype.checkForCompletePushing=function(){for(var e=0;e<this.panels.length;e++)if(this.collisionChecker[this.panels[e].id]&&null!==this.collisionChecker[this.panels[e].id]){this.overlapElement=[this.collisionChecker[this.panels[e].id].ele];var t=this.panels[e].id;this.updateRowColumn(this.collisionChecker[""+t].row,this.overlapElement,this.collisionChecker[""+t].srcEle)}},t.prototype.updateCollisionChecked=function(e){for(var t=0;t<Object.keys(this.collisionChecker).length;t++)this.collisionChecker[e.id]=null},t.prototype.updateRowColumn=function(e,t,i){if(i){var s=parseInt(i.getAttribute("data-sizeY"),10),n=parseInt(i.getAttribute("data-row"),10);this.overlapElementClone=(this.overlapElement&&this.shouldRestrict,this.overlapElement);for(var a=0;a<this.overlapElementClone.length;a++){if(0===this.overlapElementClone.length)return;for(var l=0;l<this.overlapElementClone.length;l++)this.collisionChecker[this.overlapElementClone[l].id]={ele:this.overlapElementClone[l],row:e,srcEle:i};var r=n+s,o=parseInt(this.overlapElementClone[a].getAttribute("data-sizeY"),10),h=parseInt(this.overlapElementClone[a].getAttribute("data-col"),10),d=parseInt(this.overlapElementClone[a].getAttribute("data-sizeX"),10),p=void 0,c=void 0;if(-1===this.overlapSubElementClone.indexOf(i)&&this.overlapSubElementClone.push(i),-1===this.overlapSubElementClone.indexOf(this.overlapElementClone[a])&&this.overlapSubElementClone.push(this.overlapElementClone[a]),o>1||d>1){var u=this.getCellInstance(this.overlapElementClone[a].id);p=u.col;for(var g=document.getElementById(u.id),m=u.row;m<n+s;m++){this.isSubValue=!0,this.panelPropertyChange(u,{row:u.row+1}),g.setAttribute("data-row",u.row.toString()),this.setPanelPosition(g,u.row,p),this.updateCollisionChecked(g),this.oldRowCol[g.id]={row:u.row,col:p};var f=this.getCellInstance(g.id);this.panelPropertyChange(f,{col:p,row:u.row});var v=parseInt(g.getAttribute("data-row"),10),P=parseInt(g.getAttribute("data-col"),10),y=parseInt(g.getAttribute("data-sizeX"),10),C=parseInt(g.getAttribute("data-sizeY"),10),x=[];x.push(g),x.push(i),c=this.collisions(v,P,y,C,x),this.mainElement&&-1!==c.indexOf(this.mainElement)&&c.splice(c.indexOf(this.mainElement),1),this.collisionPanel(c,P,v,g)}this.isSubValue=!1}else{this.addPanelCalled&&(this.addPanelCalled=!1),this.overlapElementClone[a].setAttribute("data-row",r.toString());var S=[];S.push(this.overlapElementClone[a]),S.push(i),c=this.collisions(r,h,d,o,S),this.mainElement&&-1!==c.indexOf(this.mainElement)&&c.splice(c.indexOf(this.mainElement),1),p=parseInt(this.overlapElementClone[a].getAttribute("data-col"),10),this.setPanelPosition(this.overlapElementClone[a],r,p),this.updateCollisionChecked(this.overlapElementClone[a]),this.oldRowCol[this.overlapElementClone[a].id]={row:r,col:p};var f=this.getCellInstance(this.overlapElementClone[a].id);this.panelPropertyChange(f,{col:p,row:r}),this.collisionPanel(c,p,r,this.overlapElementClone[a])}}}},t.prototype.collisionPanel=function(e,t,i,s){var n=this.getCellInstance(s.id);if(this.panelPropertyChange(n,{row:i,col:t}),e.length>0){var a=this;this.overlapElement=[],this.shouldRestrict=!0,e.forEach(function(e){a.overlapElement.push(e)});for(var l=parseInt(s.getAttribute("data-row"),10),r=0;r<this.overlapElement.length;r++)this.updateRowColumn(l,this.overlapElement,s);this.shouldRestrict=!1}else{if(this.addPanelCalled||this.sortedPanel(),this.overlapSubElementClone.length>0)for(var o=this,h=0;h<this.overlapSubElementClone.length;h++)!function(e){var t=parseInt(o.overlapSubElementClone[e].getAttribute("data-row"),10),i=parseInt(o.overlapSubElementClone[e].getAttribute("data-col"),10),s=parseInt(o.overlapSubElementClone[e].getAttribute("data-sizeX"),10),n=parseInt(o.overlapSubElementClone[e].getAttribute("data-sizeY"),10),a=o.collisions(t,i,s,n,o.overlapSubElementClone);o.mainElement&&-1!==a.indexOf(o.mainElement)&&a.splice(a.indexOf(o.mainElement),1);var l=o;a.forEach(function(e){l.overlapElement.push(e)}),a.length>0&&o.updateRowColumn(t,o.overlapElement,o.overlapSubElementClone[e])}(h);this.overlapSubElementClone=[]}},t.prototype.removeResizeClasses=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],a=n.querySelectorAll(".e-resize"),l=0;l<a.length;l++)i.i(s.detach)(a[l])},t.prototype.ensureDrag=function(){this.checkDragging(this.dragCollection);var e=this.element.querySelectorAll("."+r);i.i(s.removeClass)(e,[r]),this.setClasses(this.panelCollection)},t.prototype.setClasses=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=e[t].querySelector(".e-panel-container");this.allowDragging&&(this.draggableHandle&&n.querySelectorAll(this.draggableHandle)[0]?i.i(s.addClass)([n.querySelectorAll(this.draggableHandle)[0]],[r]):i.i(s.addClass)([n],[r])),this.allowResizing&&this.mediaQuery&&!this.checkMediaQuery()&&this.setResizingClass(n,a)}},t.prototype.setResizingClass=function(e,t){if(this.availableClasses=this.resizableHandles,!e.querySelector(".e-resize"))for(var n=0;n<this.availableClasses.length;n++){var a=this.createElement("span"),l=void 0;t.appendChild(a),l="e-east"===this.availableClasses[n]||"e-west"===this.availableClasses[n]||"e-north"===this.availableClasses[n]||"e-south"===this.availableClasses[n]?"e-single":"e-double",i.i(s.addClass)([a],[l,this.availableClasses[n],"e-resize","e-dl-icon"])}},t.prototype.setXYAttributes=function(e,t){var n={value:{sizeX:t.sizeX.toString(),sizeY:t.sizeY.toString(),minSizeX:t.minSizeX.toString(),minSizeY:t.minSizeY.toString(),maxSizeX:i.i(s.isNullOrUndefined)(t.maxSizeX)?void 0:t.maxSizeX.toString(),maxSizeY:i.i(s.isNullOrUndefined)(t.maxSizeY)?void 0:t.maxSizeY.toString(),row:t.row.toString(),col:t.col.toString()}};this.setAttributes(n,e)},t.prototype.setXYDimensions=function(e){var t,n,a=this.getCellSize()[1],l=this.getCellSize()[0];return t=e&&"number"==typeof l&&"number"==typeof e.sizeX&&e.sizeX>1?e.sizeX*l+(e.sizeX-1)*this.cellSpacing[0]:l,n=e&&"number"==typeof a&&e.sizeY>1&&"number"==typeof e.sizeY?e.sizeY*a+(e.sizeY-1)*this.cellSpacing[1]:i.i(s.formatUnit)(a),[n,t]},t.prototype.getRowColumnDragValues=function(e){var t=parseFloat(e.element.style.top),i=parseFloat(e.element.style.left);return[Math.round(t/(this.getCellSize()[1]+this.cellSpacing[1])),Math.round(i/(this.getCellSize()[0]+ +this.cellSpacing[0]))]},t.prototype.checkForChanges=function(e,t,n){var a=[];if(this.removeAllCalled)a=[];else for(var l=0;l<this.panels.length;l++)!i.i(s.isNullOrUndefined)(t)&&this.panels[l].id===t[0].id||!i.i(s.isNullOrUndefined)(n)&&this.panels[l].id===n[0].id||this.panels[l].row===this.panelsInitialModel[l].row&&this.panels[l].col===this.panelsInitialModel[l].col||a.push(this.panels[l]);if(a.length>0||this.removeAllCalled){var r={changedPanels:a,isInteracted:e,addedPanels:i.i(s.isNullOrUndefined)(t)?[]:t,removedPanels:i.i(s.isNullOrUndefined)(n)?[]:n};this.trigger("change",r)}},t.prototype.enableDraggingContent=function(e){for(var t,n=this,a=this,r=0;r<e.length;r++)!function(r){var o=[".e-resize",".e-drag-restrict"],h=e[r];a.dragobj=new s.Draggable(h,{preventDefault:!1,clone:!1,dragArea:a.element,isDragScroll:!0,handle:a.draggableHandle?a.draggableHandle:".e-panel",abort:o,dragStart:a.onDraggingStart.bind(a),dragStop:function(e){if(n.trigger("dragStop",e),i.i(s.isNullOrUndefined)(e.cancel)&&(e.cancel=!1),e.cancel){var t=n.getCellInstance(n.mainElement.id);for(r=0;r<n.panels.length;r++)n.panels[r].id===t.id&&(e.element.setAttribute("data-col",n.panelsInitialModel[r].col.toString()),e.element.setAttribute("data-row",n.panelsInitialModel[r].row.toString()),t.col=n.panelsInitialModel[r].col,t.row=n.panelsInitialModel[r].row,n.setPanelPosition(n.mainElement,n.panelsInitialModel[r].row,n.panelsInitialModel[r].col),n.updatePanelLayout(n.mainElement,t));n.shadowEle&&i.i(s.detach)(n.shadowEle)}else{var a=n.getCellInstance(n.mainElement.id);n.allowPushing&&n.collisions(a.row,a.col,a.sizeX,a.sizeY,n.mainElement).length>0?(n.setHolderPosition(e),n.setPanelPosition(n.mainElement,a.row,a.col),n.updatePanelLayout(n.mainElement,a)):n.setPanelPosition(n.mainElement,a.row,a.col),n.mainElement=null;var o=n.getPanelBase(e);n.shadowEle&&i.i(s.detach)(n.shadowEle),i.i(s.removeClass)([n.element],["e-prevent"]),i.i(s.removeClass)([e.element],[l]),n.shadowEle=null,e.element.classList.remove("e-dragging");var h=n.getRowColumnDragValues(e)[0],d=n.getRowColumnDragValues(e)[1],p=n.getCellInstance(e.element.id);n.allowPushing&&0===n.collisions(h,d,p.sizeX,p.sizeY,document.getElementById(o.id)).length?(n.panelPropertyChange(n.getCellInstance(e.element.id),{row:h,col:d}),n.oldRowCol[e.element.id].row=h,n.oldRowCol[e.element.id].col=d,n.setAttributes({value:{col:d.toString(),row:h.toString()}},e.element),n.sortedPanel()):(n.panelPropertyChange(n.getCellInstance(e.element.id),{row:n.oldRowCol[e.element.id].row,col:n.oldRowCol[e.element.id].col}),e.element.setAttribute("data-col",n.getCellInstance(e.element.id).col.toString()),e.element.setAttribute("data-row",n.getCellInstance(e.element.id).row.toString()),n.sortedPanel());var c=n.getCellInstance(e.element.id);n.setPanelPosition(e.element,c.row,c.col),n.updatePanels(),n.updateCloneArrayObject(),n.checkForChanges(!0),n.dragStopEventArgs={event:e.event,element:e.element},n.resizeEvents(),n.rows=n.maxRow(!0),n.setHeightWidth(),n.updateDragArea()}},drag:function(e){n.draggedEventArgs={event:e.event,element:e.element,target:i.i(s.closest)(e.target,".e-panel")},n.trigger("drag",n.draggedEventArgs),n.onDragStart(e)}}),-1===a.dragCollection.indexOf(a.dragobj)&&a.dragCollection.push(a.dragobj),t=r}(r),r=t},t.prototype.updatePanels=function(){this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel()},t.prototype.updateDragArea=function(){this.dragCollection.forEach(function(e){e.setDragArea()})},t.prototype.updateRowsHeight=function(e,t,i){e+t>=this.rows&&(this.rows=this.rows+i,this.setHeightWidth())},t.prototype.onDraggingStart=function(e){var t=e;if(this.trigger("dragStart",t,function(t){i.i(s.isNullOrUndefined)(e.cancel)&&(e.cancel=!1)}),this.eventVar=e.cancel,e.cancel)i.i(s.removeClass)([this.element],["e-prevent"]),i.i(s.removeClass)([e.element],[l]);else{this.panelsInitialModel=this.cloneModels(this.panels),this.mainElement=e.element,this.cloneObject=JSON.parse(JSON.stringify(this.cloneObject));var n=this.startRow=parseInt(e.element.getAttribute("data-row"),10);this.startCol=parseInt(e.element.getAttribute("data-col"),10);var a=parseInt(e.element.getAttribute("data-sizeY"),10);this.updateRowsHeight(n,a,a),this.updateDragArea(),this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),this.shadowEle.classList.add("e-holder-transition"),i.i(s.setStyleAttribute)(this.shadowEle,{position:"absolute"}),i.i(s.addClass)([this.element],["e-prevent"]),i.i(s.addClass)([e.element],[l]),this.element.appendChild(this.shadowEle),this.renderReactTemplates(),this.shadowEle=document.querySelector(".e-holder"),this.shadowEle.style.height=this.getCellInstance(e.element.id).sizeY*this.cellSize[1]+"px",this.shadowEle.style.width=this.getCellInstance(e.element.id).sizeX*this.cellSize[0]+"px";var r=this.getCellInstance(e.element.id);this.setPanelPosition(this.shadowEle,r.row,r.col)}},t.prototype.cloneModels=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.length;i++){t[i]||(t[i]={});for(var s in e[i])t[i][""+s]=e[i][""+s]}return t},t.prototype.onDragStart=function(e){var t,n,a;if(this.eventVar)this.dragobj.intDestroy(e.event),i.i(s.removeClass)([this.element],["e-prevent"]),i.i(s.removeClass)([e.element],[l]);else{var r=a=this.getRowColumnDragValues(e)[1],o=this.getRowColumnDragValues(e)[0];if(r<0||o<0)return;this.panelPropertyChange(this.getCellInstance(e.element.id),{row:o,col:r});var h=this.getCellInstance(e.element.id);if(this.updateRowsHeight(h.row,h.sizeY,1),this.updateDragArea(),this.allowPushing&&(this.setAttributes({value:{col:r.toString(),row:o.toString()}},e.element),this.panelPropertyChange(this.getCellInstance(e.element.id),{row:o,col:r}),t=this.oldRowCol[e.element.id].col,n=this.oldRowCol[e.element.id].row,this.oldRowCol[e.element.id]={row:o,col:r},this.updateOldRowColumn(),(this.startCol!==t||this.startRow!==n)&&(this.setHolderPosition(e),this.startCol!==t&&(this.startRow=n),this.startRow!==n&&(this.startCol=t),this.allowPushing))){this.mainElement=e.element;var d=h;this.checkCollision=this.collisions(d.row,d.col,d.sizeX,d.sizeY,e.element),h.col>=this.checkColumnValue&&(this.checkCollision=[]),this.updatePanelLayout(e.element,h),this.moveItemsUpwards()}if(!1!==this.allowPushing&&this.panelPropertyChange(this.getCellInstance(e.element.id),{row:o,col:r}),this.oldRowCol[e.element.id].row===o&&this.oldRowCol[e.element.id].col===r||(this.panelPropertyChange(this.getCellInstance(e.element.id),{row:o,col:r}),this.setAttributes({value:{col:r.toString(),row:o.toString()}},e.element)),this.startCol!==a&&(this.startCol=t,this.moveItemsUpwards()),this.allowPushing||this.setHolderPosition(e),this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),!1===this.allowPushing)return}},t.prototype.getPanelBase=function(e){for(var t,i=0;i<this.panelCollection.length;i++)this.panelCollection[i].id===(e.element&&e.element.id||e)&&(t=this.panelCollection[i]);return t},t.prototype.getPanel=function(e,t,i){!i||i instanceof Array||(i=[i]);for(var s=1;e>-1;){for(var n=1,a=t;a>-1;){var l=this.sortedArray[e];if(l){var r=l[a];if(r&&(!i||-1===i.indexOf(r))&&parseInt(r.getAttribute("data-sizeX"),10)>=n&&parseInt(r.getAttribute("data-sizeY"),10)>=s)return r}++n,--a}--e,++s}return null},t.prototype.setHolderPosition=function(e){var t=parseInt(e.element.getAttribute("data-sizeY"),10),i=parseInt(e.element.getAttribute("data-col"),10),s=parseInt(e.element.getAttribute("data-row"),10),n=parseInt(e.element.getAttribute("data-sizeX"),10),a=this.getCellSize()[0],l=this.getCellSize()[1],r=0===s?0:s*(l+this.cellSpacing[1]),o=0===i?0:i*(a+this.cellSpacing[0]),h=this.getCellSize()[1],d=this.getCellSize()[0];this.elementRef.top=this.shadowEle.style.top=r+"px",this.elementRef.left=this.shadowEle.style.left=o+"px",this.elementRef.height=this.shadowEle.style.height=t*h+(t-1)*this.cellSpacing[1]+"px",this.elementRef.width=this.shadowEle.style.width=n*d+(n-1)*this.cellSpacing[0]+"px"},t.prototype.getCellInstance=function(e){for(var t,i=0;i<this.panels.length;i++)this.panels[i].id===e&&(t=this.panels[i]);return t},t.prototype.addPanel=function(e){this.panelsSizeY=0,this.maxCol(),e.minSizeX||(e.minSizeX=1),e.minSizeY||(e.minSizeY=1),e.id||(e.id="layout_"+this.panelID.toString(),this.panelID=this.panelID+1);var t=new o(this,"panels",e,!0);this.panels.push(t),this.panelsInitialModel=this.cloneModels(this.panels),this.setMinMaxValues(t),(this.maxColumnValue<t.col||this.maxColumnValue<t.col+t.sizeX)&&this.panelPropertyChange(t,{col:this.maxColumnValue-t.sizeX});var i=this.renderCell(t,!0,null);if(this.oldRowCol[t.id]={row:t.row,col:t.col},this.cloneObject[t.id]={row:t.row,col:t.col},this.updateOldRowColumn(),this.element.insertAdjacentElement("afterbegin",i),this.addPanelCalled=!0,this.checkMediaQuery()?(this.checkMediaQuerySizing(),this.removeResizeClasses(this.panelCollection)):(this.mainElement=i,this.checkCollision||(this.checkCollision=[]),this.setPanelPosition(i,t.row,t.col),this.updatePanelLayout(i,t)),this.addPanelCalled=!1,this.allowDragging&&this.mediaQuery&&!this.checkMediaQuery()&&this.enableDraggingContent([document.getElementById(t.id)]),this.setClasses([i]),this.allowFloating&&(this.mainElement=null,this.moveItemsUpwards()),this.updateOldRowColumn(),this.sortedPanel(),this.updateCloneArrayObject(),this.allowResizing)for(var n=0;n<i.querySelectorAll(".e-resize").length;n++){var a="msie"===s.Browser.info.name?"mousedown pointerdown":"mousedown";s.EventHandler.add(i.querySelectorAll(".e-resize")[n],a,this.downResizeHandler,this),"msie"!==s.Browser.info.name&&s.EventHandler.add(i.querySelectorAll(".e-resize")[n],"touchstart",this.touchDownResizeHandler,this)}this.checkForChanges(!1,[t])},t.prototype.updatePanel=function(e){if(this.panelsSizeY=0,e.id){var t=this.getCellInstance(e.id);if(t){this.maxCol(),e.col=e.col<1?0:e.col>this.columns?this.columns-1:e.col,i.i(s.isNullOrUndefined)(e.col)&&(e.col=t.col),this.panelPropertyChange(t,e),this.setMinMaxValues(t);var n=document.getElementById(e.id);this.mainElement=n;var a=t.cssClass?t.cssClass.split(" "):null;if(this.panelContent=n.querySelector(".e-panel-container")?n.querySelector(".e-panel-container"):this.createSubElement(a,n.id+"_content","e-panel-container"),n.appendChild(this.panelContent),t.header){var l=n.querySelector(".e-panel-header")?n.querySelector(".e-panel-header"):this.createSubElement([],n.id+"template","");i.i(s.addClass)([l],["e-panel-header"]),l.innerHTML="";var r=this.element.id+"HeaderTemplate"+t.id;this.renderTemplate(t.header,l,r,!0,"header"),this.panelContent.appendChild(l),this.renderReactTemplates()}else n.querySelector(".e-panel-header")&&i.i(s.detach)(n.querySelector(".e-panel-header"));if(t.content){var o=t.cssClass?t.cssClass.split(" "):null;this.panelBody=n.querySelector(".e-panel-content")?n.querySelector(".e-panel-content"):this.createSubElement(o,n.id+"_body","e-panel-content"),this.panelBody.innerHTML="";var h=this.panelContent.querySelector(".e-panel-header")?window.getComputedStyle(this.panelContent.querySelector(".e-panel-header")).height:"0px",d="calc( 100% - "+h+")";i.i(s.setStyleAttribute)(this.panelBody,{height:d});var r=this.element.id+"ContentTemplate"+t.id;this.renderTemplate(t.content,this.panelBody,r,!0,"content"),this.panelContent.appendChild(this.panelBody),this.renderReactTemplates()}else n.querySelector(".e-panel-content")&&i.i(s.detach)(n.querySelector(".e-panel-content"));this.setXYAttributes(n,t),this.setHeightAndWidth(n,t),this.setPanelPosition(n,t.row,t.col),this.updatePanelLayout(n,t),this.checkMediaQuery()&&this.checkMediaQuerySizing(),this.mainElement=null,this.updatePanels(),this.updateCloneArrayObject()}}},t.prototype.updateCloneArrayObject=function(){this.cloneArray=this.sortedArray,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol))},t.prototype.serialize=function(){for(var e=this.cloneModels(this.panels),t=[],i=0;i<e.length;i++)t.push({id:e[i].id,row:e[i].row,col:e[i].col,sizeX:e[i].sizeX,sizeY:e[i].sizeY,minSizeX:e[i].minSizeX,minSizeY:e[i].minSizeY,maxSizeX:e[i].maxSizeX,maxSizeY:e[i].maxSizeY});return t},t.prototype.removeAll=function(){this.removeAllCalled=!0;for(var e=0;e<this.panelCollection.length;e++)i.i(s.detach)(this.panelCollection[e]),this.clearTemplate();this.removeAllPanel(),this.rows=0,this.gridPanelCollection=[],this.setHeightWidth(),this.sortedPanel(),this.sortedArray=[],this.overlapElementClone=[],this.overlapElement=[],this.overlapSubElementClone=[],this.panelCollection=[],this.oldRowCol={},this.cloneObject={};var t=this.cloneModels(this.panels);this.setProperties({panels:[]},!0),this.updatePanels(),this.updateCloneArrayObject(),this.checkForChanges(!1,null,t),this.removeAllCalled=!1},t.prototype.removePanel=function(e){var t=this;this.panelsSizeY=0,this.panelsInitialModel=this.cloneModels(this.panels);for(var n,a=0;a<this.panelCollection.length;a++)this.panelCollection[a].id===e&&(i.i(s.detach)(this.panelCollection[a]),this.panelCollection.splice(a,1)),this.panels[a].id===e&&(n=this.panels[a],this.panels.splice(a,1),this.panelsInitialModel.splice(a,1),this.updateOldRowColumn(),this.sortedPanel());this.updatePanels(),this.checkMediaQuery()&&(this.isPanelRemoved=!0,this.checkMediaQuerySizing(),this.isPanelRemoved=!1),this.gridPanelCollection.forEach(function(i){i.id===e&&t.gridPanelCollection.splice(t.gridPanelCollection.indexOf(i),1)}),this.updateCloneArrayObject(),this.checkForChanges(!1,null,[n])},t.prototype.movePanel=function(e,t,i){this.movePanelCalled=!0,this.panelsInitialModel=this.cloneModels(this.panels);var s=this.getCellInstance(e);if(!isNaN(t)&&null!==t&&!isNaN(i)&&null!==i&&s){i<0?i=0:i>this.columns&&(i=this.columns-s.sizeX),this.panelPropertyChange(s,{row:t,col:i});var n=document.getElementById(e);this.mainElement=n,this.startRow=parseInt(n.getAttribute("data-row"),10),this.startCol=parseInt(n.getAttribute("data-col"),10),this.setAttributes({value:{col:i.toString(),row:t.toString()}},n),this.updateOldRowColumn(),this.setPanelPosition(n,t,i),this.updatePanelLayout(n,s),this.updateRowHeight(),this.updatePanels(),this.updateCloneArrayObject(),this.mainElement=null,this.allowFloating&&this.moveItemsUpwards(),this.movePanelCalled=!1,this.checkForChanges(!1)}},t.prototype.setAttributes=function(e,t){for(var i=0;i<Object.keys(e).length;i++)Object.keys(e)&&(e[Object.keys(e)[i]].col&&t.setAttribute("data-col",e[Object.keys(e)[i]].col.toString()),e[Object.keys(e)[i]].row&&t.setAttribute("data-row",e[Object.keys(e)[i]].row.toString()),e[Object.keys(e)[i]].sizeX&&t.setAttribute("data-sizeX",e[Object.keys(e)[i]].sizeX.toString()),e[Object.keys(e)[i]].sizeY&&t.setAttribute("data-sizeY",e[Object.keys(e)[i]].sizeY.toString()),e[Object.keys(e)[i]].minSizeX&&t.setAttribute("data-minSizeX",e[Object.keys(e)[i]].minSizeX.toString()),e[Object.keys(e)[i]].minSizeY&&t.setAttribute("data-minSizeY",e[Object.keys(e)[i]].minSizeY.toString()),e[Object.keys(e)[i]].maxSizeX&&t.setAttribute("data-maxSizeY",e[Object.keys(e)[i]].maxSizeX.toString()),e[Object.keys(e)[i]].maxSizeY&&t.setAttribute("data-maxSizeY",e[Object.keys(e)[i]].maxSizeY.toString()))},t.prototype.resizePanel=function(e,t,i){this.panelsInitialModel=this.cloneModels(this.panels);var s=this.getCellInstance(e);this.resizeCalled=!0;var n=document.getElementById(e),a={event:null,element:n,isInteracted:!1};this.trigger("resizeStart",a),this.panelPropertyChange(s,{sizeX:t,sizeY:i}),this.setMinMaxValues(s),this.checkMinMaxValues(s),this.mainElement=n,this.setAttributes({value:{sizeX:s.sizeX.toString(),sizeY:s.sizeY.toString()}},n),this.setHeightAndWidth(n,s),this.updatePanelLayout(n,s),this.updatePanels(),this.updateRowHeight(),this.resizeCalled=!1,this.trigger("resizeStop",a),this.checkForChanges(!1)},t.prototype.destroy=function(){s.EventHandler.remove(window,"resize",this.refreshListener),i.i(s.removeClass)([this.element],["e-dashboardlayout","e-lib","e-responsive","e-control"]),this.element.removeAttribute("style");for(var t=0;t<this.dragCollection.length;t++)this.dragCollection[t].destroy();this.removeAllPanel(),e.prototype.destroy.call(this),this.clearTemplate(),this.renderReactTemplates()},t.prototype.removeAllPanel=function(){for(;this.element.firstElementChild;)i.i(s.detach)(this.element.firstElementChild),this.clearTemplate()},t.prototype.setEnableRtl=function(){!0===this.enableRtl?i.i(s.addClass)([this.element],"e-rtl"):i.i(s.removeClass)([this.element],"e-rtl")},t.prototype.updateCellSizeAndSpacing=function(){this.panelResponsiveUpdate(),this.setHeightWidth(),this.getRowColumn();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],i=this.getCellInstance(t.id);this.setHeightAndWidth(t,i),this.setPanelPosition(t,i.row,i.col)}},t.prototype.updatePanelsDynamically=function(e){this.removeAll(),this.setProperties({panels:e},!0),this.setOldRowCol(),this.table&&this.table.remove(),this.initialize(),this.checkMediaQuery()&&this.refresh(),this.showGridLines&&this.initGridLines()},t.prototype.checkForIDValues=function(e){var t=this;!i.i(s.isNullOrUndefined)(e)&&e.length>0?(this.panelID=0,e.forEach(function(e){e.id||(t.panelPropertyChange(e,{id:"layout_"+t.panelID.toString()}),t.panelID=t.panelID+1)})):this.restrictDynamicUpdate=!0},t.prototype.onPropertyChanged=function(e,t){var n=this;e.panels&&e.panels.length>0&&e.panels[0]instanceof o&&this.checkForIDValues(e.panels);for(var a=0,l=Object.keys(e);a<l.length;a++){switch(l[a]){case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"mediaQuery":this.setProperties({mediaQuery:e.mediaQuery},!0),this.checkMediaQuery()&&this.checkMediaQuerySizing();break;case"allowDragging":this.setProperties({allowDragging:e.allowDragging},!0),this.ensureDrag();break;case"allowResizing":if(this.setProperties({allowResizing:e.allowResizing},!0),this.allowResizing)this.setClasses(this.panelCollection),this.resizeEvents();else{for(var r=this.element.querySelectorAll(".e-panel .e-panel-container .e-resize"),h=0;h<r.length;h++){var d="msie"===s.Browser.info.name?"mousedown pointerdown":"mousedown",p=r[h];s.EventHandler.remove(p,d,this.downResizeHandler),"msie"!==s.Browser.info.name&&s.EventHandler.remove(p,"touchstart",this.touchDownResizeHandler)}this.removeResizeClasses(this.panelCollection)}break;case"cellSpacing":this.setProperties({cellSpacing:e.cellSpacing},!0),this.updateCellSizeAndSpacing(),this.updateGridLines();break;case"draggableHandle":this.setProperties({draggableHandle:e.draggableHandle},!0),this.ensureDrag();break;case"allowFloating":this.setProperties({allowFloating:e.allowFloating},!0),this.moveItemsUpwards();break;case"showGridLines":this.showGridLines?(this.setProperties({showGridLines:e.showGridLines},!0),this.initGridLines()):this.table&&i.i(s.detach)(this.table);break;case"allowPushing":this.setProperties({allowPushing:e.allowPushing},!0);break;case"panels":!e.columns&&!this.restrictDynamicUpdate&&e.panels[0]&&e.panels.length>0?(this.isRenderComplete=!1,this.updatePanelsDynamically(e.panels),this.isRenderComplete=!0):e.panels[0]&&e.panels.length?this.restrictDynamicUpdate=!1:(this.isRenderComplete=!1,this.updatePanelsDynamically(this.panels),this.isRenderComplete=!0);break;case"columns":this.isRenderComplete=!1,e.panels&&this.updatePanelsDynamically(e.panels),this.setProperties({columns:e.columns},!0),this.panelCollection=[],this.maxColumnValue=this.columns,this.calculateCellSize(),this.panels.forEach(function(e){if(n.setMinMaxValues(e),n.maxColumnValue<e.col||n.maxColumnValue<e.col+e.sizeX){var t=n.maxColumnValue-e.sizeX;n.panelPropertyChange(e,{col:t<0?0:t}),n.setXYAttributes(document.getElementById(e.id),e)}n.setHeightAndWidth(document.getElementById(e.id),e),n.panelCollection.push(document.getElementById(e.id)),n.setPanelPosition(document.getElementById(e.id),e.row,e.col),n.mainElement=document.getElementById(e.id),n.updatePanelLayout(document.getElementById(e.id),e),n.mainElement=null}),this.updatePanels(),this.updateCloneArrayObject(),this.isRenderComplete=!0,this.updateGridLines()}}},t.prototype.getPersistData=function(){var e=["panels"];return this.addOnPersist(e)},t.prototype.mergePersistPanelData=function(e){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!i.i(s.isNullOrUndefined)(t)&&""!==t||!i.i(s.isNullOrUndefined)(e)){var n=i.i(s.isNullOrUndefined)(e)?JSON.parse(t):e,a=Object.keys(n);this.isProtectedOnChange=!0;for(var l=0,r=a;l<r.length;l++){var o=r[l];"object"!=typeof i.i(s.getValue)(o,this)||i.i(s.isNullOrUndefined)(i.i(s.getValue)(o,this))||Array.isArray(i.i(s.getValue)(o,this))&&"panels"===o&&this.mergePanels(n[o],this[o])}this.isProtectedOnChange=!1}},t.prototype.mergePanels=function(e,t){for(var n=e,a=this,l=0;l<n.length;l++)!function(e){a.checkForIDValues(t);var l=t.filter(function(t){return t.id===n[e].id})[0];i.i(s.isNullOrUndefined)(l)||(n[e]=i.i(s.extend)(l,n[e],{},!0))}(l)},t.prototype.getModuleName=function(){return"DashboardLayout"},a([i.i(s.Property)(!0)],t.prototype,"allowDragging",void 0),a([i.i(s.Property)(!1)],t.prototype,"allowResizing",void 0),a([i.i(s.Property)(!0)],t.prototype,"allowPushing",void 0),a([i.i(s.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),a([i.i(s.Property)(!0)],t.prototype,"allowFloating",void 0),a([i.i(s.Property)(1)],t.prototype,"cellAspectRatio",void 0),a([i.i(s.Property)([5,5])],t.prototype,"cellSpacing",void 0),a([i.i(s.Property)(1)],t.prototype,"columns",void 0),a([i.i(s.Property)(!1)],t.prototype,"showGridLines",void 0),a([i.i(s.Property)(null)],t.prototype,"draggableHandle",void 0),a([i.i(s.Property)("en-US")],t.prototype,"locale",void 0),a([i.i(s.Property)("max-width: 600px")],t.prototype,"mediaQuery",void 0),a([i.i(s.Collection)([],o)],t.prototype,"panels",void 0),a([i.i(s.Property)(["e-south-east"])],t.prototype,"resizableHandles",void 0),a([i.i(s.Event)()],t.prototype,"change",void 0),a([i.i(s.Event)()],t.prototype,"dragStart",void 0),a([i.i(s.Event)()],t.prototype,"drag",void 0),a([i.i(s.Event)()],t.prototype,"dragStop",void 0),a([i.i(s.Event)()],t.prototype,"resizeStart",void 0),a([i.i(s.Event)()],t.prototype,"resize",void 0),a([i.i(s.Event)()],t.prototype,"resizeStop",void 0),a([i.i(s.Event)()],t.prototype,"created",void 0),a([i.i(s.Event)()],t.prototype,"destroyed",void 0),t=a([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(2);i.d(t,"PaneProperties",function(){return s.a}),i.d(t,"Splitter",function(){return s.b});var n=i(1);i.d(t,"Panel",function(){return n.a}),i.d(t,"DashboardLayout",function(){return n.b})},function(e,t,i){"use strict";i.d(t,"a",function(){return v}),i.d(t,"b",function(){return P});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),a=this&&this.__decorate||function(e,t,i,s){var n,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(l=(a<3?n(l):a>3?n(t,i,l):n(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l},l="e-splitter",r="e-pane",o="e-pane-horizontal",h="e-pane-vertical",d="e-split-bar",p="e-static-pane",c="e-resize-handler",u="e-arrow-left",g="e-arrow-up",m="e-arrow-down",f="e-icon-hidden",v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),a([i.i(s.Property)()],t.prototype,"size",void 0),a([i.i(s.Property)(!1)],t.prototype,"collapsible",void 0),a([i.i(s.Property)(!1)],t.prototype,"collapsed",void 0),a([i.i(s.Property)(!0)],t.prototype,"resizable",void 0),a([i.i(s.Property)(null)],t.prototype,"min",void 0),a([i.i(s.Property)(null)],t.prototype,"max",void 0),a([i.i(s.Property)()],t.prototype,"content",void 0),a([i.i(s.Property)("")],t.prototype,"cssClass",void 0),t}(s.ChildProperty),P=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.needsID=!0,s}return n(t,e),t.prototype.onPropertyChanged=function(e,t){if(this.element.classList.contains(l))for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];switch(r){case"height":this.setSplitterSize(this.element,e.height,"height");break;case"width":this.setSplitterSize(this.element,e.width,"width");break;case"cssClass":this.setCssClass(this.element,e.cssClass);break;case"enabled":this.isEnabled(this.enabled);break;case"enableReversePanes":this.setReversePane();break;case"separatorSize":this.setSeparatorSize(e.separatorSize);break;case"orientation":this.changeOrientation(e.orientation);break;case"paneSettings":if(e.paneSettings instanceof Array&&t.paneSettings instanceof Array)this.destroyPaneSettings(),this.allBars=[],this.allPanes=[],this.createSplitPane(this.element),this.addSeparator(this.element),this.getPanesDimensions(),this.setRTL(this.enableRtl),this.isCollapsed();else{var o=Object.keys(e.paneSettings),h=o.some(function(t){return!i.i(s.isNullOrUndefined)(e.paneSettings[t].content)});if(this.isReact&&h){for(var d=0,p=0;p<this.paneSettings.length;p++)"function"==typeof this.paneSettings[p].content&&(d+=1);var c=d===this.paneSettings.length;c&&this.clearTemplate()}for(var u=0;u<o.length;u++)for(var g=parseInt(Object.keys(e.paneSettings)[u],10),m=Object.keys(e.paneSettings[g]).length,f=0;f<m;f++){var v=Object.keys(e.paneSettings[g])[f];switch(v){case"content":var P=Object(e.paneSettings[g])[""+v];i.i(s.isNullOrUndefined)(P)||(this.allPanes[g].innerHTML="",this.setTemplate(P,this.allPanes[g]));break;case"resizable":var y=Object(e.paneSettings[g])[""+v];this.resizableModel(g,y);break;case"collapsible":this.collapsibleModelUpdate(g);break;case"collapsed":e.paneSettings[g].collapsed?this.isCollapsed(g):this.collapsedOnchange(g);break;case"cssClass":this.setCssClass(this.allPanes[g],e.paneSettings[g].cssClass);break;case"size":var C=Object(e.paneSettings[g])[""+v];""===C||i.i(s.isNullOrUndefined)(C)||this.updatePaneSize(C,g)}}}break;case"enableRtl":this.setRTL(e.enableRtl)}}},t.prototype.updatePaneSize=function(e,t){this.allPanes[t].style.flexBasis=e;for(var i,s=[],n=0,a=0;a<this.allPanes.length;a++)this.paneSettings[a].size||""===this.allPanes[a].innerText?this.paneSettings[a].size&&(i="Horizontal"===this.orientation?this.allPanes[t].offsetWidth:this.allPanes[t].offsetHeight):(s[n]=a,n++);i="Horizontal"===this.orientation?this.allBars[0].offsetWidth*this.allBars.length+i:this.allBars[0].offsetHeight*this.allBars.length+i;for(var l=("Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight)-i-2*this.border,r=l/s.length,o=0;o<s.length;o++)this.allPanes[s[o]].style.flexBasis=r+"px";this.allPanes[t].classList.add(p)},t.prototype.initializeValues=function(){this.allPanes=[],this.paneOrder=[],this.separatorOrder=[],this.allBars=[],this.previousCoordinates={},this.currentCoordinates={},this.updatePrePaneInPercentage=!1,this.updateNextPaneInPercentage=!1,this.panesDimensions=[],this.border=0,this.validDataAttributes=["data-size","data-min","data-max","data-collapsible","data-resizable","data-content","data-collapsed"],this.validElementAttributes=["data-orientation","data-width","data-height"],this.iconsDelay=300,this.templateElement=[],this.collapseFlag=!1,this.expandFlag=!0},t.prototype.preRender=function(){this.initializeValues(),this.onReportWindowSize=this.reportWindowSize.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this),this.onTouchMoveHandler=this.onMouseMove.bind(this),this.onTouchEndHandler=this.onMouseUp.bind(this),this.wrapper=this.element.cloneNode(!0),this.wrapperParent=this.element.parentElement,i.i(s.removeClass)([this.wrapper],["e-control","e-lib",l]);var e="Horizontal"===this.orientation?"e-splitter-horizontal":"e-splitter-vertical";i.i(s.addClass)([this.element],e);var t=s.Browser.info.name,n="msie"===t?"e-ie":"";this.setCssClass(this.element,n),s.Browser.isDevice&&i.i(s.addClass)([this.element],"e-splitter-touch")},t.prototype.getPersistData=function(){return this.addOnPersist(["paneSettings"])},t.prototype.getModuleName=function(){return"splitter"},t.prototype.render=function(){this.checkDataAttributes(),this.setCssClass(this.element,this.cssClass),this.isEnabled(this.enabled),this.setDimension(this.getHeight(this.element),this.getWidth(this.element)),this.createSplitPane(this.element),this.addSeparator(this.element),this.getPanesDimensions(),this.setPaneSettings(),this.setRTL(this.enableRtl),this.enableReversePanes&&this.setReversePane(),this.collapseFlag=!0,this.isCollapsed(),this.collapseFlag=!1,s.EventHandler.add(document,"touchstart click",this.onDocumentClick,this),this.renderComplete(),this.element.ownerDocument.defaultView.addEventListener("resize",this.onReportWindowSize,!0),s.EventHandler.add(this.element,"keydown",this.onMove,this)},t.prototype.onDocumentClick=function(e){e.target.classList.contains(d)||i.i(s.isNullOrUndefined)(this.currentSeparator)||(this.currentSeparator.classList.remove("e-split-bar-hover"),this.currentSeparator.classList.remove("e-split-bar-active"))},t.prototype.checkPaneSize=function(e){var t="Horizontal"===this.orientation?this.previousPane.offsetWidth:this.previousPane.offsetHeight,n="Horizontal"===this.orientation?this.nextPane.offsetWidth:this.nextPane.offsetHeight,a=i.i(s.isNullOrUndefined)(this.separatorSize)?1:this.separatorSize;if(this.previousPane.style.flexBasis.indexOf("%")>0||this.previousPane.style.flexBasis.indexOf("p")>0||this.nextPane.style.flexBasis.indexOf("%")>0){var l=this.updatePaneFlexBasis(this.previousPane),r=this.updatePaneFlexBasis(this.nextPane);this.totalPercent=l+r,this.totalWidth=this.convertPercentageToPixel(this.totalPercent+"%"),"keydown"!==e.type||i.i(s.isNullOrUndefined)(e.keyCode)||((39===e.keyCode||40===e.keyCode)&&n>0&&this.getMinInPixel(this.paneSettings[this.nextPaneIndex].min)<this.convertPercentageToPixel(r-1+"%")?(this.previousPane.style.flexBasis=l+1+"%",this.nextPane.style.flexBasis=r-1+"%"):(37===e.keyCode||38===e.keyCode)&&t>0&&this.getMinInPixel(this.paneSettings[this.prevPaneIndex].min)<this.convertPercentageToPixel(l-1+"%")&&(this.previousPane.style.flexBasis=l-1+"%",this.nextPane.style.flexBasis=r+1+"%"))}else this.totalWidth="Horizontal"===this.orientation?this.previousPane.offsetWidth+this.nextPane.offsetWidth:this.previousPane.offsetHeight+this.nextPane.offsetHeight,"keydown"!==e.type||i.i(s.isNullOrUndefined)(e.keyCode)||((39===e.keyCode||40===e.keyCode)&&n>0&&this.getMinInPixel(this.paneSettings[this.nextPaneIndex].min)<n+a?(this.addStaticPaneClass(),this.previousPane.style.flexBasis=t+a+"px",this.nextPane.style.flexBasis=n<a?"0px":n-a+"px"):(37===e.keyCode||38===e.keyCode)&&t>0&&this.getMinInPixel(this.paneSettings[this.prevPaneIndex].min)<t-a&&(this.addStaticPaneClass(),this.previousPane.style.flexBasis=t<a?"0px":t-a+"px",this.nextPane.style.flexBasis=n+a+"px"))},t.prototype.onMove=function(e){if(this.allPanes.length>1){var t=this.getSeparatorIndex(this.currentSeparator),n=this.previousPane.classList.contains("e-collapsed"),a=this.previousPane.classList.contains("e-expanded"),l=this.nextPane.classList.contains("e-collapsed");("Horizontal"!==this.orientation&&38===e.keyCode||"Horizontal"===this.orientation&&39===e.keyCode||"Horizontal"===this.orientation&&37===e.keyCode||"Horizontal"!==this.orientation&&40===e.keyCode)&&(!a&&!l&&!n||a&&!l)&&document.activeElement.classList.contains(d)&&this.paneSettings[t].resizable&&this.paneSettings[t+1].resizable?(e.preventDefault(),this.checkPaneSize(e),this.triggerResizing(e)):13===e.keyCode&&this.paneSettings[t].collapsible&&document.activeElement.classList.contains(d)&&this.currentSeparator.classList.contains("e-split-bar-active")&&(this.previousPane.classList.contains("e-collapsed")?(this.expand(t),i.i(s.addClass)([this.currentSeparator],"e-split-bar-active")):(this.collapse(t),i.i(s.addClass)([this.currentSeparator],"e-split-bar-active")))}},t.prototype.getMinInPixel=function(e){if(i.i(s.isNullOrUndefined)(e))return 0;var t=this.convertPixelToNumber(e.toString());return e.indexOf("%")>0&&(t=this.convertPercentageToPixel(e)),this.convertPixelToNumber(t.toString())},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var t=s.SanitizeHtmlHelper.beforeSanitize(),n={cancel:!1,helper:null};i.i(s.extend)(t,t,n),this.trigger("beforeSanitizeHtml",t),t.cancel&&!i.i(s.isNullOrUndefined)(t.helper)?e=t.helper(e):t.cancel||(e=s.SanitizeHtmlHelper.serializeValue(t,e))}return e},t.prototype.checkDataAttributes=function(){for(var e,t,n=0;n<this.validElementAttributes.length;n++)t=this.element.getAttribute(this.validElementAttributes[n]),i.i(s.isNullOrUndefined)(t)||(e=this.removeDataPrefix(this.validElementAttributes[n]),this[e]=t);for(var a=0;a<this.element.children.length;a++)for(var l=0;l<this.validDataAttributes.length;l++)if(t=this.element.children[a].getAttribute(this.validDataAttributes[l]),!i.i(s.isNullOrUndefined)(t)){e=this.removeDataPrefix(this.validDataAttributes[l]),t="collapsible"===e||"resizable"===e?"true"===t:t,i.i(s.isNullOrUndefined)(this.paneSettings[a])&&(this.paneSettings[a]={size:"",min:null,max:null,content:"",resizable:!0,collapsible:!1,collapsed:!1});var r=this.paneSettings[a][e];"resizable"!==e&&"collapsible"!==e&&"collapsed"!==e||(this.paneSettings[a][e]=t),(i.i(s.isNullOrUndefined)(r)||""===r)&&(this.paneSettings[a][e]=t)}},t.prototype.destroyPaneSettings=function(){[].slice.call(this.element.children).forEach(function(e){i.i(s.detach)(e)}),this.restoreElem()},t.prototype.setPaneSettings=function(){for(var e=this.allPanes.length,t=[],n={size:"",min:null,max:null,content:"",resizable:!0,collapsed:!1,collapsible:!1,cssClass:""},a=0;a<e;a++)i.i(s.isNullOrUndefined)(this.paneSettings[a])?t[a]=n:t[a]=this.paneSettings[a];this.setProperties({paneSettings:t},!0)},t.prototype.checkArrow=function(e,t){return this.allBars[e].querySelector(".e-navigate-arrow."+t)},t.prototype.removeDataPrefix=function(e){return e.slice(e.lastIndexOf("-")+1)},t.prototype.setRTL=function(e){e?i.i(s.addClass)([this.element],"e-rtl"):i.i(s.removeClass)([this.element],"e-rtl")},t.prototype.setReversePane=function(){this.allPanes=this.allPanes.reverse(),this.allBars=this.allBars.reverse(),i.i(s.addClass)([this.allBars[this.allBars.length-1]],"e-last-bar"),i.i(s.removeClass)([this.allBars[0]],"e-last-bar"),this.setProperties({paneSettings:this.paneSettings.reverse()},!0),this.enableReversePanes?this.element.setAttribute("dir","rtl"):this.element.removeAttribute("dir")},t.prototype.setSplitterSize=function(e,t,n){var a="width"===n?{width:i.i(s.formatUnit)(t)}:{height:i.i(s.formatUnit)(t)};i.i(s.setStyleAttribute)(e,a)},t.prototype.getPanesDimensions=function(){for(var e=0;e<this.allPanes.length;e++)"Horizontal"===this.orientation?this.panesDimensions.push(this.allPanes[e].getBoundingClientRect().width):this.panesDimensions.push(this.allPanes[e].getBoundingClientRect().height)},t.prototype.setCssClass=function(e,t){t&&i.i(s.addClass)([e],t.split(t.indexOf(",")>-1?",":" "))},t.prototype.hideResizer=function(e){i.i(s.addClass)([i.i(s.select)("."+c,e)],"e-hide-handler")},t.prototype.showResizer=function(e){!i.i(s.isNullOrUndefined)(this.previousPane)&&this.previousPane.classList.contains("e-resizable")&&!i.i(s.isNullOrUndefined)(this.nextPane)&&this.nextPane.classList.contains("e-resizable")&&i.i(s.removeClass)([i.i(s.select)("."+c,e)],"e-hide-handler")},t.prototype.resizableModel=function(e,t){var n=e===this.allBars.length?e-1:e,a=e;s.EventHandler.remove(this.allBars[n],"mousedown",this.onMouseDown),t?(s.EventHandler.add(this.allBars[n],"mousedown",this.onMouseDown,this),this.isResizable()&&(this.showResizer(this.allBars[n]),i.i(s.removeClass)([i.i(s.select)("."+c,this.allBars[n])],"e-hide-handler"),this.allBars[n].classList.add("e-resizable-split-bar"),e===this.allBars.length?this.allPanes[e].classList.add("e-resizable"):this.allPanes[n].classList.add("e-resizable"),this.updateResizablePanes(a))):(this.updateResizablePanes(a),this.hideResizer(this.allBars[n]),this.allBars[n].classList.remove("e-resizable-split-bar"),e===this.allBars.length?this.allPanes[e].classList.remove("e-resizable"):this.allPanes[n].classList.remove("e-resizable"))},t.prototype.collapsibleModelUpdate=function(e){var t=e===this.allBars.length?e-1:e,i="Horizontal"===this.orientation?this.checkArrow(t,u):this.checkArrow(t,g),s="Horizontal"===this.orientation?this.checkArrow(t,"e-arrow-right"):this.checkArrow(t,m);this.paneCollapsible(this.allPanes[e],e),this.updateCollapseIcons(t,s,i)},t.prototype.collapseArrow=function(e,t){return i.i(s.selectAll)("."+t,this.allBars[e])[0]},t.prototype.updateIsCollapsed=function(e,t,n){if(!i.i(s.isNullOrUndefined)(e)){var a=void 0,l=e===this.allBars.length,r=l?e-1:e;a=!l&&this.allPanes[e+1].classList.contains("e-collapsed")&&0!==e?this.collapseArrow(r-1,n):l?this.collapseArrow(r,n):this.collapseArrow(r,t),a.click()}},t.prototype.isCollapsed=function(e){var t=this;if(i.i(s.isNullOrUndefined)(e)||!this.paneSettings[e].collapsed||!i.i(s.isNullOrUndefined)(this.allPanes[e].classList.contains("e-collapsed"))){if(this.expandFlag=!1,i.i(s.isNullOrUndefined)(e)){for(var n=0;n<this.allPanes.length;n++)!i.i(s.isNullOrUndefined)(this.paneSettings[n])&&this.paneSettings[n].collapsed&&this.updateIsCollapsed(n,this.targetArrows().collapseArrow,this.targetArrows().lastBarArrow);for(var n=this.allPanes.length-1;n>=0;n--)if(!i.i(s.isNullOrUndefined)(this.paneSettings[n])&&this.paneSettings[n].collapsed&&!this.allPanes[n].classList.contains("e-collapsed")){var a="Horizontal"===this.orientation?"e-arrow-right":m;if(0!==n){var l=this.collapseArrow(n-1,a);l.click()}if(!this.nextPane.classList.contains("e-collapsed")){var l=this.collapseArrow(n-1,a);l.click()}}}else{this.collapseFlag=!0;var l=void 0,r=e===this.allBars.length,o=r?e-1:e;l=!r&&this.allPanes[e+1].classList.contains("e-collapsed")&&0!==e?this.collapseArrow(o-1,this.targetArrows().lastBarArrow):r?this.collapseArrow(o,this.targetArrows().lastBarArrow):this.collapseArrow(o,this.targetArrows().collapseArrow);var h={target:l},d=this.beforeAction(h);this.trigger("beforeCollapse",d,function(i){if(!i.cancel){var s=[];s[0]=e;for(var n=1,a=0;a<t.allPanes.length;a++)t.allPanes[a].classList.contains("e-collapsed")&&(s[n]=a,n++);s=s.sort(),t.updateIsCollapsed(e,t.targetArrows().collapseArrow,t.targetArrows().lastBarArrow);for(var a=0;a<s.length;a++)t.allPanes[s[a]].classList.contains("e-collapsed")||t.updateIsCollapsed(s[a],t.targetArrows().collapseArrow,t.targetArrows().lastBarArrow);for(var a=s.length;a>0;a--)if(!t.allPanes[s[a-1]].classList.contains("e-collapsed")){var l=t.targetArrows();t.updateIsCollapsed(s[a-1],l.collapseArrow,l.lastBarArrow)}var r=t.afterAction(h);t.trigger("collapsed",r),t.collapseFlag=!1}})}this.expandFlag=!0}},t.prototype.targetArrows=function(){return this.splitterProperty(),{collapseArrow:"Horizontal"===this.orientation?u:g,lastBarArrow:"Vertical"===this.orientation?m:"e-arrow-right"}},t.prototype.collapsedOnchange=function(e){i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].collapsed)||!this.allPanes[e].classList.contains("e-collapsed")||this.updateIsCollapsed(e,this.targetArrows().lastBarArrow,this.targetArrows().collapseArrow)},t.prototype.isEnabled=function(e){e?i.i(s.removeClass)([this.element],"e-disabled"):i.i(s.addClass)([this.element],"e-disabled")},t.prototype.setSeparatorSize=function(e){for(var t=i.i(s.isNullOrUndefined)(e)?"auto":e+"px",n="Horizontal"===this.orientation?"e-split-bar-horizontal":"e-split-bar-vertical",a=0;a<this.allBars.length;a++){var l=i.i(s.selectAll)("."+n,this.element)[a],r=i.i(s.selectAll)("."+c,l)[0];"Horizontal"===this.orientation?(l.style.width=t,i.i(s.isNullOrUndefined)(r)||(r.style.width=t)):(l.style.height=t,i.i(s.isNullOrUndefined)(r)||(r.style.height=t))}},t.prototype.changeOrientation=function(e){var t="Vertical"===e;this.element.classList.remove(t?"e-splitter-horizontal":"e-splitter-vertical"),this.element.classList.add(t?"e-splitter-vertical":"e-splitter-horizontal");for(var n=0;n<this.allPanes.length;n++)this.allPanes[n].classList.remove(t?o:h),this.allPanes[n].classList.add(t?h:o);for(var n=0;n<this.allBars.length;n++)i.i(s.detach)(this.allBars[n]);this.allBars=[],this.addSeparator(this.element)},t.prototype.checkSplitPane=function(e,t){return this.collectPanes(e.parentElement.children)[t]},t.prototype.collectPanes=function(e){for(var t=[],i=0;i<e.length;i++)e[i].classList.contains(r)&&t.push(e[i]);return t},t.prototype.getPrevPane=function(e){return this.enableReversePanes?this.getOrderPane(e+1):this.getOrderPane(e-1)},t.prototype.getNextPane=function(e){return this.enableReversePanes?this.getOrderPane(e-1):this.getOrderPane(e+1)},t.prototype.getOrderPane=function(e){for(var t,i=0;i<this.element.children.length;i++)parseInt(this.element.children[i].style.order,10)===e&&(t=this.element.children[i]);return t},t.prototype.getOrderIndex=function(e,t){var i,s;s="pane"===t?this.allPanes:this.allBars;for(var n=0;n<s.length;n++)parseInt(s[n].style.order,10)===e&&(i=n);return i},t.prototype.updateSeparatorSize=function(e){var t=i.i(s.isNullOrUndefined)(this.separatorSize)?"1px":this.separatorSize+"px";"Horizontal"===this.orientation?e.style.width=t:e.style.height=t},t.prototype.addResizeHandler=function(e){var t=this.createElement("div");i.i(s.addClass)([t],[c,"e-icons"]),this.updateSeparatorSize(t),e.appendChild(t)},t.prototype.getHeight=function(e){this.height;return""!==e.style.height&&"100%"===this.height?e.style.height:this.height},t.prototype.getWidth=function(e){this.width;return""!==e.style.width&&"100%"===this.width?e.style.width:this.width},t.prototype.setDimension=function(e,t){i.i(s.setStyleAttribute)(this.element,{height:e,width:t})},t.prototype.updateCollapseIcons=function(e,t,n){i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].collapsible)||(this.paneSettings[e].collapsible?i.i(s.removeClass)([n],[f]):i.i(s.addClass)([n],[f]),i.i(s.isNullOrUndefined)(this.paneSettings[e+1])||(this.paneSettings[e+1].collapsible?i.i(s.removeClass)([t],[f]):i.i(s.addClass)([t],[f])),i.i(s.isNullOrUndefined)(this.paneSettings[e+1])||this.paneSettings[e+1].collapsible&&(this.paneSettings[e+1].collapsible?i.i(s.removeClass)([t],[f]):i.i(s.addClass)([t],[f])))},t.prototype.updateIconClass=function(){"Horizontal"===this.orientation?(this.leftArrow=u,this.rightArrow="e-arrow-right"):(this.leftArrow=g,this.rightArrow=m)},t.prototype.createSeparator=function(e){var t=this.createElement("div");this.allBars.push(t);var n=this.createElement("button"),a=this.createElement("button");n.setAttribute("tabindex","-1"),a.setAttribute("tabindex","-1"),n.setAttribute("aria-label","Toggle navigation"),a.setAttribute("aria-label","Toggle navigation"),n.setAttribute("type","button"),a.setAttribute("type","button");var l=i.i(s.isNullOrUndefined)(this.separatorSize)?"1px":this.separatorSize+"px",r=this;return"Horizontal"===this.orientation?(this.updateIconClass(),i.i(s.addClass)([a],["e-navigate-arrow",u,f]),i.i(s.addClass)([n],["e-navigate-arrow","e-arrow-right",f]),i.i(s.addClass)([t],[d,"e-split-bar-horizontal"]),t.style.width=l):(i.i(s.addClass)([n],["e-navigate-arrow",m,f]),i.i(s.addClass)([a],["e-navigate-arrow",g,f]),i.i(s.addClass)([t],[d,"e-split-bar-vertical"]),this.updateIconClass(),t.style.height=l),this.addMouseActions(t),t.appendChild(a),this.addResizeHandler(t),t.appendChild(n),this.updateCollapseIcons(e,n,a),t.setAttribute("tabindex","0"),this.enableReversePanes?t.setAttribute("dir","ltr"):t.removeAttribute("dir"),t.addEventListener("focus",function(){t.classList.add("e-split-bar-active"),r.currentSeparator=t,r.getPaneDetails()}),t.addEventListener("blur",function(){t.classList.remove("e-split-bar-active")}),t},t.prototype.updateResizablePanes=function(e){this.getPaneDetails(),this.isResizable()?this.allPanes[e].classList.add("e-resizable"):this.allPanes[e].classList.remove("e-resizable")},t.prototype.addSeparator=function(e){for(var t,n=this.allPanes.length,a=e.children,l=0;l<n;l++)if(l<n-1){if(t=this.createSeparator(l),i.i(s.setStyleAttribute)(t,{order:2*l+1}),this.separatorOrder.push(2*l+1),a[l].parentNode.appendChild(t),this.currentSeparator=t,t.setAttribute("role","separator"),t.setAttribute("aria-orientation",this.orientation.toLowerCase()),this.wireClickEvents(),!i.i(s.isNullOrUndefined)(t))if(this.isResizable()){s.EventHandler.add(t,"mousedown",this.onMouseDown,this);var r="msie"===s.Browser.info.name?"pointerdown":"touchstart";s.EventHandler.add(t,r,this.onMouseDown,this),t.classList.add("e-resizable-split-bar"),this.updateResizablePanes(l)}else i.i(s.addClass)([i.i(s.select)("."+c,t)],"e-hide-handler")}else t&&i.i(s.addClass)([t],"e-last-bar"),n>1&&this.updateResizablePanes(l);if("msie"===s.Browser.info.name)for(var o=this.element.querySelectorAll(".e-splitter .e-resize-handler"),l=0;l<o.length;l++){var h=i.i(s.isNullOrUndefined)(this.separatorSize)?1:this.separatorSize;o[l].style.paddingLeft=h/2+"px",o[l].style.paddingRight=h/2+"px"}},t.prototype.isResizable=function(){var e=!1;return(!i.i(s.isNullOrUndefined)(this.paneSettings[this.getPreviousPaneIndex()])&&this.paneSettings[this.getPreviousPaneIndex()].resizable&&!i.i(s.isNullOrUndefined)(this.paneSettings[this.getNextPaneIndex()])&&this.paneSettings[this.getNextPaneIndex()].resizable||i.i(s.isNullOrUndefined)(this.paneSettings[this.getNextPaneIndex()]))&&(e=!0),e},t.prototype.addMouseActions=function(e){var t,n,a=this;e.addEventListener("mouseenter",function(){t=setTimeout(function(){i.i(s.addClass)([e],["e-split-bar-hover"])},a.iconsDelay)}),e.addEventListener("mouseleave",function(){clearTimeout(t),i.i(s.removeClass)([e],["e-split-bar-hover"])}),e.addEventListener("mouseout",function(){clearTimeout(n)}),e.addEventListener("mouseover",function(){n=setTimeout(function(){i.i(s.addClass)([e],["e-split-bar-hover"])})})},t.prototype.getEventType=function(e){return e.indexOf("mouse")>-1?"mouse":"touch"},t.prototype.updateCurrentSeparator=function(e){this.currentSeparator=this.isSeparator(e)?e.parentElement:e},t.prototype.isSeparator=function(e){return!e.classList.contains(d)},t.prototype.isMouseEvent=function(e){var t=!1;return("mouse"===this.getEventType(e.type)||!i.i(s.isNullOrUndefined)(e.pointerType)&&"mouse"===this.getEventType(e.pointerType))&&(t=!0),t},t.prototype.updateCursorPosition=function(e,t){if(this.isMouseEvent(e))this.changeCoordinates({x:e.pageX,y:e.pageY},t);else{var i="msie"!==s.Browser.info.name?e.touches[0]:e;this.changeCoordinates({x:i.pageX,y:i.pageY},t)}},t.prototype.changeCoordinates=function(e,t){"previous"===t?this.previousCoordinates=e:this.currentCoordinates=e},t.prototype.reportWindowSize=function(){var e=this,t=this.allPanes.length;if(!document.body.contains(this.element))return void document.defaultView.removeEventListener("resize",this.onReportWindowSize);for(var n=0;n<t;n++)if(i.i(s.isNullOrUndefined)(this.paneSettings[n].size)&&this.allPanes[n].classList.remove(p),t-1===n){var a=this.element.querySelectorAll("."+p).length;a===t&&i.i(s.removeClass)([this.allPanes[n]],p)}t>0&&setTimeout(function(){e.updateSplitterSize(!0)},200)},t.prototype.updateSplitterSize=function(e){for(var t=0,n=[],a=0,l=this.element.children,r=0,o=l.length;r<o;r++)t+="Horizontal"===this.orientation?l[r].offsetWidth:l[r].offsetHeight;for(var h=0,o=this.allBars.length;h<o;h++)t+="Horizontal"===this.orientation?parseInt(getComputedStyle(this.allBars[h]).marginLeft,10)+parseInt(getComputedStyle(this.allBars[h]).marginLeft,10):parseInt(getComputedStyle(this.allBars[h]).marginTop,10)+parseInt(getComputedStyle(this.allBars[h]).marginBottom,10);for(var d="Horizontal"===this.orientation?this.element.offsetWidth-(2*this.border+t):this.element.offsetHeight-(2*this.border+t),r=0,o=this.allPanes.length;r<o;r++)(""===this.allPanes[r].innerText?this.paneSettings[r].size&&""===this.allPanes[r].innerText:this.paneSettings[r].size||""===this.allPanes[r].innerText)||(n[a]=r,a++);for(var c=d/n.length,h=0,o=n.length;h<o;h++)""!==this.allPanes[n[h]].style.flexBasis&&(this.allPanes[n[h]].style.flexBasis="Horizontal"===this.orientation?this.allPanes[n[h]].offsetWidth+c+"px":this.allPanes[n[h]].offsetHeight+c+"px");if(2===this.allPanes.length&&e)for(var u=this.allPanes.length,g=void 0,m=void 0,f=void 0,v=void 0,r=0;r<u;r++)if(!i.i(s.isNullOrUndefined)(this.paneSettings[r].min)&&(m=this.convertPixelToNumber(this.paneSettings[r].min.toString()),this.paneSettings[r].min.indexOf("%")>0&&(m=this.convertPercentageToPixel(this.paneSettings[r].min)),g=this.convertPixelToNumber(m.toString()),("Horizontal"===this.orientation?this.allPanes[r].offsetWidth:this.allPanes[r].offsetHeight)<g)){0===r?(f=this.allPanes[r],v=this.allPanes[r+1]):(f=this.allPanes[r],v=this.allPanes[r-1]);var P=g-("Horizontal"===this.orientation?this.allPanes[r].offsetWidth:this.allPanes[r].offsetHeight),y=f.style.flexBasis.indexOf("%")>-1,C="Horizontal"===this.orientation?f.offsetWidth:f.offsetHeight;!i.i(s.isNullOrUndefined)(f)&&""!==f.style.flexBasis&&f.classList.contains(p)&&(f.style.flexBasis=y?this.convertPixelToPercentage(C+P)+"%":C+P+"px");var x="Horizontal"===this.orientation?v.offsetWidth:v.offsetHeight;i.i(s.isNullOrUndefined)(v)||""===v.style.flexBasis||v.classList.contains(p)||(v.style.flexBasis=v.style.flexBasis.indexOf("%")>-1?this.convertPixelToPercentage(x-P)+"%":x-P+"px")}},t.prototype.wireResizeEvents=function(){document.addEventListener("mousemove",this.onMouseMoveHandler,!0),document.addEventListener("mouseup",this.onMouseUpHandler,!0);var e="msie"===s.Browser.info.name?"pointermove":"touchmove",t="msie"===s.Browser.info.name?"pointerup":"touchend";document.addEventListener(e,this.onTouchMoveHandler,!0),document.addEventListener(t,this.onTouchEndHandler,!0)},t.prototype.unwireResizeEvents=function(){this.element.ownerDocument.defaultView.removeEventListener("resize",this.onReportWindowSize);var e="msie"===s.Browser.info.name?"pointermove":"touchmove",t="msie"===s.Browser.info.name?"pointerup":"touchend";document.removeEventListener("mousemove",this.onMouseMoveHandler,!0),document.removeEventListener("mouseup",this.onMouseUpHandler,!0),document.removeEventListener(e,this.onTouchMoveHandler,!0),document.removeEventListener(t,this.onTouchEndHandler,!0)},t.prototype.wireClickEvents=function(){s.EventHandler.add(this.currentSeparator,"touchstart click",this.clickHandler,this)},t.prototype.clickHandler=function(e){if(!e.target.classList.contains("e-navigate-arrow")){var t=i.i(s.selectAll)(".e-splitter > .e-split-bar.e-split-bar-hover");t.length>0&&i.i(s.removeClass)(t,"e-split-bar-hover"),e.target.classList.add("e-split-bar-hover")}this.splitterDetails(e);var n=e.target;(n.classList.contains(u)||n.classList.contains("e-arrow-right")||n.classList.contains(m)||n.classList.contains(g))&&(this.nextPane.classList.contains("e-pane-hidden")||this.previousPane.classList.contains("e-pane-hidden")?this.expandAction(e):this.collapseAction(e),this.updateSplitterSize())},t.prototype.expandAction=function(e){var t=this,i=this.beforeAction(e);this.expandFlag?this.trigger("beforeExpand",i,function(i){i.cancel||t.expandPane(e);var s=t.afterAction(e);t.trigger("expanded",s)}):this.expandPane(e)},t.prototype.getIcon=function(e){return e.target.className.split(" ").filter(function(e){return"e-navigate-arrow"!==e&&e!==f})[0]},t.prototype.expandPane=function(e){this.removeStaticPanes();var t=this.element.querySelectorAll(".e-collapsed").length,n=!this.previousPane.classList.contains("e-collapsed")&&this.previousPane.classList.contains(p)&&!this.nextPane.classList.contains("e-collapsed")&&!this.nextPane.classList.contains("e-expanded")&&this.nextPane.nextElementSibling.classList.contains(r)&&!this.nextPane.nextElementSibling.classList.contains(p)&&!(t===this.allPanes.length-2),a=["e-collapsed","e-pane-hidden"],l=this.getIcon(e),o=l===u||l===g,h=o?this.nextPane:this.previousPane,d=o?this.previousPane:this.nextPane,c=o?this.nextPaneIndex:this.prevPaneIndex;i.i(s.removeClass)([h],a),h.setAttribute("aria-hidden","false");var m=this.element.querySelectorAll(".e-collapsed").length;if(m>0)d.classList.contains("e-collapsed")||(i.i(s.addClass)([d],"e-expanded"),d.setAttribute("aria-expanded","true"));else if(0===m)for(var f=0;f<this.allPanes.length;f++)this.allPanes[f].classList.contains("e-collapsed")||(i.i(s.removeClass)([this.allPanes[f]],"e-expanded"),this.allPanes[f].setAttribute("aria-expanded","false"));this.expandFlag&&this.updatePaneSettings(c,!1),this.updateIconsOnExpand(e,l),this.updateFlexGrow(),n&&(this.previousPane.classList.remove("e-expanded"),this.previousPane.setAttribute("aria-expanded","false"),this.previousPane.style.flexGrow="")},t.prototype.updateFlexGrow=function(){for(var e=0,t=0;t<this.element.children.length;t++)this.element.children[t].classList.contains("e-collapsed")&&(e+=1);for(var i=e===this.allPanes.length-2,s=this.allPanes,n=0;n<s.length;n++)s[n].style.flexGrow="",i&&this.allPanes[n].classList.contains("e-collapsed")&&this.paneSettings[n].size&&n!==this.allPanes.length-1&&(s[n].style.flexGrow=""),s[n].classList.contains("e-expanded")?s[n].style.flexGrow="1":s[n].classList.contains("e-collapsed")&&(s[n].style.flexGrow="0")},t.prototype.hideTargetBarIcon=function(e,t){i.i(s.addClass)([i.i(s.select)("."+t,e)],f)},t.prototype.showTargetBarIcon=function(e,t){i.i(s.removeClass)([i.i(s.select)("."+t,e)],f)},t.prototype.updateIconsOnCollapse=function(e,t){this.splitterProperty();var n=this.arrow,a=this.currentBarIndex===this.allBars.length-1?this.prevBar:this.nextBar,l=this.currentBarIndex===this.allBars.length-1?this.currentBarIndex-1:this.currentBarIndex+1;if(e.target.classList.contains(f))this.resizableModel(this.currentBarIndex,!1),i.i(s.isNullOrUndefined)(a)||this.resizableModel(l,!1),this.paneSettings[this.prevPaneIndex].collapsible&&this.paneSettings[this.nextPaneIndex].collapsible?(i.i(s.isNullOrUndefined)(a)||this.hideTargetBarIcon(a,n),this.showTargetBarIcon(this.currentSeparator,n)):(i.i(s.isNullOrUndefined)(a)||this.hideTargetBarIcon(a,t),this.hideTargetBarIcon(this.currentSeparator,n));else if(this.splitInstance.prevPaneCollapsed||this.splitInstance.nextPaneCollapsed)if(this.paneSettings[this.prevPaneIndex].collapsible&&this.paneSettings[this.nextPaneIndex].collapsible){if(this.resizableModel(this.currentBarIndex,!1),this.hideTargetBarIcon(this.currentSeparator,t),!i.i(s.isNullOrUndefined)(a)){var r=l,o=l+1,h=this.getCollapseCount(r,o);this.paneSettings[r].collapsible&&this.paneSettings[o].collapsible&&(1===h?(this.hideTargetBarIcon(a,n),this.resizableModel(l,!1)):2===h&&(this.hideBarIcons(a),this.resizableModel(l,!1)),this.paneSettings[r].collapsible&&this.paneSettings[o].collapsible||this.hideTargetBarIcon(a,t))}}else this.showTargetBarIcon(this.currentSeparator,n),this.hideTargetBarIcon(this.currentSeparator,t),this.resizableModel(this.currentBarIndex,!1)},t.prototype.collapseAction=function(e){var t=this,i=this.beforeAction(e);this.collapseFlag?this.collapsePane(e):this.trigger("beforeCollapse",i,function(i){if(!i.cancel){t.collapsePane(e);var s=t.afterAction(e);t.trigger("collapsed",s)}})},t.prototype.collapsePane=function(e){this.removeStaticPanes();var t=this.element.querySelectorAll(".e-collapsed").length,n=this.previousPane.classList.contains(p)&&!this.previousPane.classList.contains("e-collapsed")&&!this.nextPane.classList.contains("e-collapsed")&&this.nextPane.nextElementSibling.classList.contains(r)&&!this.nextPane.nextElementSibling.classList.contains(p)&&!this.nextPane.nextElementSibling.classList.contains("e-collapsed")&&!(t===this.allPanes.length-2)||this.nextPane.classList.contains("e-collapsed")&&!this.previousPane.classList.contains(p)&&this.nextPane.classList.contains(p),a=["e-collapsed","e-pane-hidden"],l=this.getIcon(e),o=l===u||l===g,h=o?this.previousPane:this.nextPane,d=o?this.nextPane:this.previousPane,c=o?this.prevPaneIndex:this.nextPaneIndex;if(i.i(s.removeClass)([h],"e-expanded"),h.setAttribute("aria-expanded","false"),i.i(s.addClass)([h],a),h.setAttribute("aria-hidden","true"),""===h.style.flexBasis)i.i(s.addClass)([d],"e-expanded"),d.setAttribute("aria-expanded","true");else{for(var m=!0,f=0;f<this.allPanes.length;f++)if(!this.allPanes[f].classList.contains("e-collapsed")&&""===this.allPanes[f].style.flexBasis&&!this.allPanes[f].classList.contains("e-collapsed")&&!this.allPanes[f].classList.contains("e-expanded")){i.i(s.addClass)([this.allPanes[f]],"e-expanded"),this.allPanes[f].setAttribute("aria-expanded","true"),m=!1;break}m&&(i.i(s.addClass)([d],"e-expanded"),d.setAttribute("aria-expanded","true"))}this.collapseFlag||this.updatePaneSettings(c,!0),this.updateIconsOnCollapse(e,l),this.updateFlexGrow(),n&&(this.nextPane.classList.remove("e-expanded"),this.nextPane.style.flexGrow="")},t.prototype.removeStaticPanes=function(){for(var e=0;e<this.allPanes.length;e++)i.i(s.isNullOrUndefined)(this.paneSettings[e].size)&&this.allPanes[e].classList.remove(p)},t.prototype.beforeAction=function(e){return{element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator,cancel:!1}},t.prototype.updatePaneSettings=function(e,t){var i=this.paneSettings;i[e].collapsed=t,this.setProperties({paneSettings:i},!0)},t.prototype.splitterProperty=function(){this.splitInstance={currentBarIndex:this.currentBarIndex,nextPaneCollapsible:this.nextPane.classList.contains("e-collapsible"),prevPaneCollapsible:this.previousPane.classList.contains("e-collapsible"),prevPaneExpanded:this.previousPane.classList.contains("e-expanded"),nextPaneExpanded:this.nextPane.classList.contains("e-expanded"),nextPaneCollapsed:this.nextPane.classList.contains("e-collapsed"),prevPaneCollapsed:this.previousPane.classList.contains("e-collapsed"),nextPaneIndex:this.getNextPaneIndex(),prevPaneIndex:this.getPreviousPaneIndex(),nextPaneNextEle:this.nextPane.nextElementSibling,prevPanePreEle:this.previousPane.previousElementSibling}},t.prototype.showCurrentBarIcons=function(){i.i(s.removeClass)([i.i(s.select)("."+this.arrow,this.currentSeparator)],f)},t.prototype.hideBarIcons=function(e){i.i(s.addClass)([i.i(s.select)("."+this.arrow,e)],f)},t.prototype.getCollapseCount=function(e,t){var i=0;return this.allPanes[e].classList.contains("e-collapsed")&&(i+=1),this.allPanes[t].classList.contains("e-collapsed")&&(i+=1),i},t.prototype.checkResizableProp=function(e,t){return!(!this.paneSettings[e].resizable||!this.paneSettings[t].resizable)},t.prototype.updateIconsOnExpand=function(e,t){this.splitterProperty();var n=this.arrow,a=this.currentBarIndex===this.allBars.length-1?this.prevBar:this.nextBar,l=this.currentBarIndex===this.allBars.length-1?this.currentBarIndex-1:this.currentBarIndex+1;if(e.target.classList.contains(f))this.paneSettings[this.prevPaneIndex].collapsible||this.paneSettings[this.nextPaneIndex].collapsible||this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)&&this.resizableModel(this.currentBarIndex,!0);else if(!this.splitInstance.prevPaneCollapsed&&!this.splitInstance.nextPaneCollapsed)if(this.paneSettings[this.prevPaneIndex].collapsible&&this.paneSettings[this.nextPaneIndex].collapsible){if(this.showCurrentBarIcons(),this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)?this.resizableModel(this.currentBarIndex,!0):this.resizableModel(this.currentBarIndex,!1),!i.i(s.isNullOrUndefined)(a)){var r=l,o=l+1,h=this.getCollapseCount(r,o);this.paneSettings[r].collapsible&&this.paneSettings[o].collapsible&&(0===h?(this.showTargetBarIcon(a,t),this.showTargetBarIcon(a,n),this.checkResizableProp(r,o)&&this.resizableModel(l,!0)):1===h&&(this.hideBarIcons(a),this.allPanes[r].classList.contains("e-expanded")||this.allPanes[o].classList.contains("e-expanded")?this.showTargetBarIcon(a,n):this.showTargetBarIcon(a,t),this.resizableModel(l,!1)))}}else this.hideTargetBarIcon(this.currentSeparator,t),this.showTargetBarIcon(this.currentSeparator,n),this.splitInstance.prevPaneCollapsed||this.splitInstance.nextPaneCollapsed?this.resizableModel(this.currentBarIndex,!1):this.checkResizableProp(this.prevPaneIndex,this.nextPaneIndex)&&this.resizableModel(this.currentBarIndex,!0)},t.prototype.afterAction=function(e){return{element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator}},t.prototype.currentIndex=function(e){this.currentBarIndex=this.getOrderIndex(parseInt(e.target.parentElement.style.order,10),"splitbar")},t.prototype.getSeparatorIndex=function(e){var t=[].slice.call(this.allBars);return t=this.enableReversePanes?t.reverse():t,t.indexOf(e)},t.prototype.getPrevBar=function(e){return this.allBars[e-1]},t.prototype.getNextBar=function(e){return this.allBars[e+1]},t.prototype.updateBars=function(e){this.prevBar=this.getPrevBar(e),this.nextBar=this.getNextBar(e)},t.prototype.splitterDetails=function(e){"Horizontal"===this.orientation?this.arrow=e.target.classList.contains(u)?"e-arrow-right":u:this.arrow=e.target.classList.contains(g)?m:g,this.updateCurrentSeparator(e.target),this.currentIndex(e),this.updateBars(this.currentBarIndex),this.getPaneDetails()},t.prototype.triggerResizing=function(e){var t={element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],paneSize:[this.prePaneDimenson,this.nextPaneDimension],separator:this.currentSeparator};this.trigger("resizing",t)},t.prototype.onMouseDown=function(e){var t=this;e.preventDefault();var n=e.target;if(!n.classList.contains("e-navigate-arrow")){this.updateCurrentSeparator(n),i.i(s.addClass)([this.currentSeparator],"e-split-bar-active"),this.updateCursorPosition(e,"previous"),this.getPaneDetails();for(var a={element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.getPreviousPaneIndex(),this.getNextPaneIndex()],separator:this.currentSeparator,cancel:!1},l=0;l<this.element.querySelectorAll("iframe").length;l++)this.element.querySelectorAll("iframe")[l].style.pointerEvents="none";this.trigger("resizeStart",a,function(i){i.cancel||(t.wireResizeEvents(),t.checkPaneSize(e))})}},t.prototype.updatePaneFlexBasis=function(e){var t;if(e.style.flexBasis.indexOf("%")>0)t=this.removePercentageUnit(e.style.flexBasis);else if(""!==e.style.flexBasis)t=this.convertPixelToPercentage(this.convertPixelToNumber(e.style.flexBasis));else{var i="Horizontal"===this.orientation?e.offsetWidth:e.offsetHeight;t=this.convertPixelToPercentage(i)}return t},t.prototype.removePercentageUnit=function(e){return parseFloat(e.slice(0,e.indexOf("%")))},t.prototype.convertPercentageToPixel=function(e,t){var n,a=e.toString();if(a.indexOf("%")>-1){n=parseFloat(a.slice(0,a.indexOf("%")));var l=void 0;l=i.i(s.isNullOrUndefined)(t)?"Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight:this.panesDimensions[this.allPanes.indexOf(t)],n=Math.ceil(l*(n/100))}else n=parseInt(a,10);return n},t.prototype.convertPixelToPercentage=function(e){return e/("Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight)*100},t.prototype.convertPixelToNumber=function(e){return e=e.toString(),e.indexOf("p")>-1?parseFloat(e.slice(0,e.indexOf("p"))):parseFloat(e)},t.prototype.calcDragPosition=function(e,t){var i,s="Horizontal"===this.orientation?this.currentCoordinates.x-e:this.currentCoordinates.y-e;return i=s/t,(i=i>1?1:i<0?0:i)*t},t.prototype.getSeparatorPosition=function(e){this.updateCursorPosition(e,"current");var t="Horizontal"===this.orientation?this.element.getBoundingClientRect().left+window.scrollX:this.element.getBoundingClientRect().top+window.scrollY,i="Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight;return this.calcDragPosition(t,i)},t.prototype.getMinMax=function(e,t,n){var a="min"===n?0:null,l=null;return"min"===n?i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].min)||(l=this.paneSettings[e].min):i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].max)||(l=this.paneSettings[e].max),this.paneSettings.length>0&&!i.i(s.isNullOrUndefined)(this.paneSettings[e])&&!i.i(s.isNullOrUndefined)(l)?(l.indexOf("%")>0&&(l=this.convertPercentageToPixel(l).toString()),this.convertPixelToNumber(l)):a},t.prototype.getPreviousPaneIndex=function(){var e=this.enableReversePanes?parseInt(this.currentSeparator.style.order,10)+1:parseInt(this.currentSeparator.style.order,10)-1;return this.getOrderIndex(e,"pane")},t.prototype.getNextPaneIndex=function(){var e=this.enableReversePanes?parseInt(this.currentSeparator.style.order,10)-1:parseInt(this.currentSeparator.style.order,10)+1;return this.getOrderIndex(e,"pane")},t.prototype.getPaneDetails=function(){var e=null,t=null;this.order=parseInt(this.currentSeparator.style.order,10),this.allPanes.length>1&&(e=this.getPrevPane(this.order),t=this.getNextPane(this.order)),e&&t&&(this.previousPane=e,this.nextPane=t,this.prevPaneIndex=this.getPreviousPaneIndex(),this.nextPaneIndex=this.getNextPaneIndex())},t.prototype.getPaneHeight=function(e){return"Horizontal"===this.orientation?e.offsetWidth.toString():e.offsetHeight.toString()},t.prototype.isValidSize=function(e){var t=!1;return!i.i(s.isNullOrUndefined)(this.paneSettings[e])&&!i.i(s.isNullOrUndefined)(this.paneSettings[e].size)&&this.paneSettings[e].size.indexOf("%")>-1&&(t=!0),t},t.prototype.getPaneDimensions=function(){this.previousPaneHeightWidth=""===this.previousPane.style.flexBasis?this.getPaneHeight(this.previousPane):this.previousPane.style.flexBasis,this.nextPaneHeightWidth=""===this.nextPane.style.flexBasis?this.getPaneHeight(this.nextPane):this.nextPane.style.flexBasis,this.isValidSize(this.prevPaneIndex)&&(this.previousPaneHeightWidth=this.convertPercentageToPixel(this.previousPaneHeightWidth).toString(),this.updatePrePaneInPercentage=!0),this.isValidSize(this.nextPaneIndex)&&(this.nextPaneHeightWidth=this.convertPercentageToPixel(this.nextPaneHeightWidth).toString(),this.updateNextPaneInPercentage=!0),this.prePaneDimenson=this.convertPixelToNumber(this.previousPaneHeightWidth.toString()),this.nextPaneDimension=this.convertPixelToNumber(this.nextPaneHeightWidth.toString())},t.prototype.checkCoordinates=function(e,t){var i=!0;return e===this.previousCoordinates.x&&t===this.previousCoordinates.y&&(i=!1),i},t.prototype.isCursorMoved=function(e){return"mouse"===this.getEventType(e.type)||!i.i(s.isNullOrUndefined)(e.pointerType)&&"mouse"===this.getEventType(e.pointerType)?this.checkCoordinates(e.pageX,e.pageY):"msie"!==s.Browser.info.name?this.checkCoordinates(e.touches[0].pageX,e.touches[0].pageY):this.checkCoordinates(e.pageX,e.pageY)},t.prototype.getBorder=function(){this.border=0;var e="Horizontal"===this.orientation?(this.element.offsetWidth-this.element.clientWidth)/2:(this.element.offsetHeight-this.element.clientHeight)/2;this.border="chrome"!==s.Browser.info.name?this.border:e},t.prototype.onMouseMove=function(e){if(this.isCursorMoved(e)){this.getPaneDetails(),this.getPaneDimensions(),this.triggerResizing(e);var t,n=this.validateDraggedPosition(this.getSeparatorPosition(e),this.prePaneDimenson,this.nextPaneDimension);if(this.getBorder(),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().left+n-this.currentSeparator.getBoundingClientRect().left+this.border:this.element.getBoundingClientRect().top+n-this.currentSeparator.getBoundingClientRect().top+this.border,this.nextPaneHeightWidth="string"==typeof this.nextPaneHeightWidth&&this.nextPaneHeightWidth.indexOf("p")>-1?this.convertPixelToNumber(this.nextPaneHeightWidth):parseInt(this.nextPaneHeightWidth,10),this.previousPaneHeightWidth="string"==typeof this.previousPaneHeightWidth&&this.previousPaneHeightWidth.indexOf("p")>-1?this.convertPixelToNumber(this.previousPaneHeightWidth):parseInt(this.previousPaneHeightWidth,10),this.prevPaneCurrentWidth=t+this.previousPaneHeightWidth,this.nextPaneCurrentWidth=this.nextPaneHeightWidth-t,this.validateMinMaxValues(),this.nextPaneCurrentWidth<0&&(this.nextPaneCurrentWidth=0),this.prevPaneCurrentWidth<0&&(this.prevPaneCurrentWidth=0),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth>this.totalWidth&&(this.nextPaneCurrentWidth<this.prevPaneCurrentWidth?this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth):this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth)),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth<this.totalWidth){var a=this.totalWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth);this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+a}this.calculateCurrentDimensions(),this.addStaticPaneClass();for(var l=0,r=0;r<this.paneSettings.length;r++)""===this.paneSettings[r].size?l+=1:""!==this.allPanes[r].style.flexBasis&&(this.paneSettings[r].size=this.allPanes[r].style.flexBasis);var o=l===this.allPanes.length;if(""!==this.previousPane.style.flexBasis||""!==this.nextPane.style.flexBasis||o)o?(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth,i.i(s.addClass)([this.previousPane],p),this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,i.i(s.addClass)([this.nextPane],p)):(""!==this.previousPane.style.flexBasis&&this.previousPane.classList.contains(p)&&(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth),""!==this.nextPane.style.flexBasis&&this.nextPane.classList.contains(p)&&(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth));else{var h=this.allPanes.length%this.allBars.length;this.prevPaneIndex===h?(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,i.i(s.addClass)([this.nextPane],p)):this.nextPaneIndex===h?(this.previousPane.style.flexBasis=this.prevPaneCurrentWidth,i.i(s.addClass)([this.previousPane],p)):(this.nextPane.style.flexBasis=this.nextPaneCurrentWidth,i.i(s.addClass)([this.nextPane],p))}var d=""!==this.previousPane.style.flexBasis&&""!==this.nextPane.style.flexBasis;this.allPanes.length>2||!d||this.updateSplitterSize()}},t.prototype.validateMinRange=function(e,t,n){var a,l,r=null,o=0;return i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].min)||(r=this.paneSettings[e].min.toString()),i.i(s.isNullOrUndefined)(r)||(r.indexOf("%")>0&&(r=this.convertPercentageToPixel(r).toString()),a=this.convertPixelToNumber(r),t<a&&(o=t-a<=0?0:t-a,this.totalWidth=this.totalWidth-o,this.totalPercent=this.convertPixelToPercentage(this.totalWidth),l=a)),i.i(s.isNullOrUndefined)(l)?t:l},t.prototype.validateMaxRange=function(e,t,n){var a,l,r=null;return i.i(s.isNullOrUndefined)(this.paneSettings[e])||i.i(s.isNullOrUndefined)(this.paneSettings[e].max)||(r=this.paneSettings[e].max.toString()),i.i(s.isNullOrUndefined)(r)||(r.indexOf("%")>0&&(r=this.convertPercentageToPixel(r).toString()),a=this.convertPixelToNumber(r),t>a&&(this.totalWidth=this.totalWidth-(t-a),this.totalPercent=this.convertPixelToPercentage(this.totalWidth),l=a)),i.i(s.isNullOrUndefined)(l)?t:l},t.prototype.validateMinMaxValues=function(){this.prevPaneCurrentWidth=this.validateMinRange(this.prevPaneIndex,this.prevPaneCurrentWidth,this.previousPane),this.nextPaneCurrentWidth=this.validateMinRange(this.nextPaneIndex,this.nextPaneCurrentWidth,this.nextPane),this.prevPaneCurrentWidth=this.validateMaxRange(this.prevPaneIndex,this.prevPaneCurrentWidth,this.previousPane),this.nextPaneCurrentWidth=this.validateMaxRange(this.nextPaneIndex,this.nextPaneCurrentWidth,this.nextPane)},t.prototype.equatePaneWidths=function(){var e;this.prevPaneCurrentWidth+this.nextPaneCurrentWidth>this.totalPercent&&(e=this.prevPaneCurrentWidth+this.nextPaneCurrentWidth-this.totalPercent,this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-e/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-e/2+"%"),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth<this.totalPercent&&(e=this.totalPercent-(this.prevPaneCurrentWidth+this.nextPaneCurrentWidth),this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+e/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+e/2+"%")},t.prototype.calculateCurrentDimensions=function(){this.updatePrePaneInPercentage||this.updateNextPaneInPercentage?(this.prevPaneCurrentWidth=Math.round(Number(Math.round(10*this.convertPixelToPercentage(this.prevPaneCurrentWidth))/10)),this.nextPaneCurrentWidth=Math.round(Number(Math.round(10*this.convertPixelToPercentage(this.nextPaneCurrentWidth))/10)),0===this.prevPaneCurrentWidth&&(this.nextPaneCurrentWidth=this.totalPercent),0===this.nextPaneCurrentWidth&&(this.prevPaneCurrentWidth=this.totalPercent),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth!==this.totalPercent?this.equatePaneWidths():(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"%"),this.prevPaneCurrentWidth=this.updatePrePaneInPercentage?this.prevPaneCurrentWidth:this.convertPercentageToPixel(this.prevPaneCurrentWidth)+"px",this.nextPaneCurrentWidth=this.updateNextPaneInPercentage?this.nextPaneCurrentWidth:this.convertPercentageToPixel(this.nextPaneCurrentWidth)+"px",this.updatePrePaneInPercentage=!1,this.updateNextPaneInPercentage=!1):(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"px",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"px")},t.prototype.addStaticPaneClass=function(){this.previousPane.classList.contains(p)||""===this.previousPane.style.flexBasis||this.previousPane.classList.contains("e-expanded")||this.previousPane.classList.add(p),this.nextPane.classList.contains(p)||""===this.nextPane.style.flexBasis||this.nextPane.classList.contains("e-expanded")||this.nextPane.classList.add(p)},t.prototype.validateDraggedPosition=function(e,t,n){var a="Horizontal"===this.orientation?this.currentSeparator.offsetLeft:this.currentSeparator.offsetTop,l=a-t,r=n+a,o=this.getMinMax(this.prevPaneIndex,this.previousPane,"min"),h=this.getMinMax(this.nextPaneIndex,this.nextPane,"min"),d=this.getMinMax(this.prevPaneIndex,this.previousPane,"max"),p=this.getMinMax(this.nextPaneIndex,this.nextPane,"max"),c=e;return e>r-h?c=r-h:e<l+o&&(c=l+o),i.i(s.isNullOrUndefined)(d)?i.i(s.isNullOrUndefined)(p)||e<r-p&&(c=r-p):e>l+d&&(c=l+d),c},t.prototype.onMouseUp=function(e){i.i(s.removeClass)([this.currentSeparator],"e-split-bar-active"),this.unwireResizeEvents();for(var t={event:e,element:this.element,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator,paneSize:[this.prePaneDimenson,this.nextPaneDimension]},n=0;n<this.element.querySelectorAll("iframe").length;n++)this.element.querySelectorAll("iframe")[n].style.pointerEvents="auto";if(this.trigger("resizeStop",t),this.enablePersistence){var a=this.paneSettings;a[this.getPreviousPaneIndex()].size=this.allPanes[this.getPreviousPaneIndex()].style.flexBasis,a[this.getNextPaneIndex()].size=this.allPanes[this.getNextPaneIndex()].style.flexBasis,this.setProperties({paneSettings:a},!0)}},t.prototype.panesDimension=function(e,t){var n,a=t.length;parseInt(this.getHeight(this.element),10),i.i(s.isNullOrUndefined)(this.paneSettings[e])?i.i(s.setStyleAttribute)(t[e],{order:2*e}):i.i(s.isNullOrUndefined)(this.paneSettings[e].size)?(this.sizeFlag=!0,i.i(s.setStyleAttribute)(t[e],{order:2*e})):(n=this.paneSettings[e].size,e<a&&(i.i(s.setStyleAttribute)(t[e],{"flex-basis":n,order:2*e}),e<a-1&&""!==this.paneSettings[e].size?i.i(s.addClass)([t[e]],p):this.sizeFlag||(t[e].style.flexBasis=null),e===a-1&&this.sizeFlag&&""!==this.paneSettings[e].size&&i.i(s.addClass)([t[e]],p))),this.paneOrder.push(2*e)},t.prototype.setTemplate=function(e,t){t.innerHTML="",e="string"==typeof e?this.sanitizeHelper(e):e,this.templateCompile(t,e),this.isReact&&this.renderReactTemplates()},t.prototype.templateCompile=function(e,t){var i=(Object.keys(window),this.createElement("div"));this.compileElement(i,t,"content"),0!==i.childNodes.length&&[].slice.call(i.childNodes).forEach(function(t){e.appendChild(t)})},t.prototype.compileElement=function(e,t,n){Object.keys(window);if("string"==typeof t)if("."===t[0]||"#"===t[0]){var a=document.querySelector(t);if(!i.i(s.isNullOrUndefined)(a))return this.templateElement.push(a),"none"===a.style.display&&a.style.removeProperty("display"),""===a.getAttribute("style")&&a.removeAttribute("style"),void e.appendChild(a);t=t.trim()}else t=t.trim();var l;l=i.i(s.isNullOrUndefined)(t.outerHTML)?i.i(s.compile)(t):i.i(s.compile)(t.outerHTML);var r;i.i(s.isNullOrUndefined)(l)||(r=l({},this,n,this.element.id+"content"+this.allPanes.length.toString(),!0)),!i.i(s.isNullOrUndefined)(l)&&r&&r.length>0&&[].slice.call(r).forEach(function(t){e.appendChild(t)})},t.prototype.paneCollapsible=function(e,t){this.paneSettings[t].collapsible?i.i(s.addClass)([e],"e-collapsible"):i.i(s.removeClass)([e],"e-collapsible")},t.prototype.createSplitPane=function(e){for(var t=e.children.length,n=0;n<this.paneSettings.length;n++)if(t<this.paneSettings.length){var a=this.createElement("div");this.element.appendChild(a),t+=1}t=e.children.length;var l=[].slice.call(e.children);if(this.sizeFlag=!1,t>0)for(var n=0;n<t;n++)"DIV"!==l[n].nodeName&&"SPAN"!==l[n].nodeName||(this.allPanes.push(l[n]),"Horizontal"===this.orientation?(i.i(s.addClass)([l[n]],[r,o,"e-scrollable"]),this.panesDimension(n,l)):(i.i(s.addClass)([l[n]],[r,h,"e-scrollable"]),this.panesDimension(n,l)),i.i(s.isNullOrUndefined)(this.paneSettings[n])||i.i(s.isNullOrUndefined)(this.paneSettings[n].content)||this.setTemplate(this.paneSettings[n].content,l[n]),!i.i(s.isNullOrUndefined)(this.paneSettings[n])&&this.paneSettings[n].cssClass&&this.setCssClass(l[n],this.paneSettings[n].cssClass),i.i(s.isNullOrUndefined)(this.paneSettings[n])||this.paneCollapsible(l[n],n))},t.prototype.expand=function(e){this.collapsedOnchange(e),this.updatePaneSettings(e,!1)},t.prototype.collapse=function(e){this.isCollapsed(e),this.updatePaneSettings(e,!0)},t.prototype.destroy=function(){if(!this.isDestroyed){for(e.prototype.destroy.call(this),s.EventHandler.remove(document,"touchstart click",this.onDocumentClick),this.element.ownerDocument.defaultView.removeEventListener("resize",this.onReportWindowSize,!0);this.element.attributes.length>0;)this.element.removeAttribute(this.element.attributes[0].name);this.element.innerHTML=this.wrapper.innerHTML;for(var t=0;t<this.wrapper.attributes.length;t++)this.element.setAttribute(this.wrapper.attributes[t].name,this.wrapper.attributes[t].value);this.refreshing&&(i.i(s.addClass)([this.element],["e-control","e-lib",l]),this.allBars=[],this.allPanes=[]),this.restoreElem(),this.isReact&&this.clearTemplate()}},t.prototype.restoreElem=function(){if(this.templateElement.length>0)for(var e=0;e<this.templateElement.length;e++)this.templateElement[e].style.display="none",document.body.appendChild(this.templateElement[e])},t.prototype.addPaneClass=function(e){return"Horizontal"===this.orientation?i.i(s.addClass)([e],[r,o,"e-scrollable"]):i.i(s.addClass)([e],[r,h,"e-scrollable"]),e},t.prototype.removePaneOrders=function(e){for(var t=this.element.childNodes,i=[],s=0;t.length<0;s++)t[s].classList.contains(e)&&i.push(t[s]);for(var s=0;s<i.length;s++)i[s].style.removeProperty("order")},t.prototype.setPaneOrder=function(){for(var e=0;e<this.allPanes.length;e++)this.panesDimension(e,this.allPanes)},t.prototype.removeSeparator=function(){for(var e=0;e<this.allBars.length;e++)i.i(s.detach)(this.allBars[e]);this.allBars=[]},t.prototype.updatePanes=function(){this.setPaneOrder(),this.removeSeparator(),this.addSeparator(this.element)},t.prototype.addPane=function(e,t){var n=this.createElement("div");n=this.addPaneClass(n),t=t>this.allPanes.length+1?this.allPanes.length:t;var a={size:i.i(s.isNullOrUndefined)(e.size)?"":e.size,min:i.i(s.isNullOrUndefined)(e.min)?null:e.min,max:i.i(s.isNullOrUndefined)(e.max)?null:e.max,content:i.i(s.isNullOrUndefined)(e.content)?"":e.content,resizable:!!i.i(s.isNullOrUndefined)(e.resizable)||e.resizable,collapsible:!i.i(s.isNullOrUndefined)(e.collapsible)&&e.collapsible,collapsed:!i.i(s.isNullOrUndefined)(e.collapsed)&&e.collapsed,cssClass:i.i(s.isNullOrUndefined)(e.cssClass)?"":e.cssClass};this.paneSettings.splice(t,0,a),this.setProperties({paneSettings:this.paneSettings},!0),"Horizontal"===this.orientation?(this.element.insertBefore(n,this.element.querySelectorAll("."+o)[t]),this.removePaneOrders(o)):(this.element.insertBefore(n,this.element.querySelectorAll("."+h)[t]),this.removePaneOrders(h)),this.allPanes.splice(t,0,n),this.updatePanes(),this.setTemplate(this.paneSettings[t].content,n),this.setCssClass(this.allPanes[t],e.cssClass),this.allPanes[this.allPanes.length-1].classList.remove(p)},t.prototype.removePane=function(e){e=e>this.allPanes.length+1?this.allPanes.length:e;var t="Horizontal"===this.orientation?o:h;i.i(s.isNullOrUndefined)(this.element.querySelectorAll("."+t)[e])||(i.i(s.detach)(this.element.querySelectorAll("."+t)[e]),this.allPanes.splice(e,1),this.removePaneOrders(t),this.updatePanes(),this.paneSettings.splice(e,1),this.setProperties({paneSettings:this.paneSettings},!0),this.allPanes.length>0&&this.allPanes[this.allPanes.length-1].classList.remove(p))},a([i.i(s.Property)("100%")],t.prototype,"height",void 0),a([i.i(s.Property)(!1)],t.prototype,"enableReversePanes",void 0),a([i.i(s.Property)("100%")],t.prototype,"width",void 0),a([i.i(s.Property)(!1)],t.prototype,"enablePersistence",void 0),a([i.i(s.Collection)([],v)],t.prototype,"paneSettings",void 0),a([i.i(s.Property)("Horizontal")],t.prototype,"orientation",void 0),a([i.i(s.Property)("")],t.prototype,"cssClass",void 0),a([i.i(s.Property)(!0)],t.prototype,"enabled",void 0),a([i.i(s.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),a([i.i(s.Property)(null)],t.prototype,"separatorSize",void 0),a([i.i(s.Event)()],t.prototype,"beforeSanitizeHtml",void 0),a([i.i(s.Event)()],t.prototype,"created",void 0),a([i.i(s.Event)()],t.prototype,"resizeStart",void 0),a([i.i(s.Event)()],t.prototype,"resizing",void 0),a([i.i(s.Event)()],t.prototype,"resizeStop",void 0),a([i.i(s.Event)()],t.prototype,"beforeCollapse",void 0),a([i.i(s.Event)()],t.prototype,"beforeExpand",void 0),a([i.i(s.Event)()],t.prototype,"collapsed",void 0),a([i.i(s.Event)()],t.prototype,"expanded",void 0),t=a([s.NotifyPropertyChanges],t)}(s.Component)}])});