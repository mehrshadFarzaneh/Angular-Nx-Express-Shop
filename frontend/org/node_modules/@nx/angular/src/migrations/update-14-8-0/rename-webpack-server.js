"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nx/devkit");
function renameWebpackServer(tree) {
    const projects = (0, devkit_1.getProjects)(tree);
    const oldExecutorName = '@nrwl/angular:webpack-server';
    const newExecutorName = '@nrwl/angular:webpack-dev-server';
    for (const [projectName, project] of projects.entries()) {
        let stringifiedProject = JSON.stringify(project);
        if (!stringifiedProject.includes(oldExecutorName)) {
            continue;
        }
        for (const [targetName, target] of Object.entries(project.targets)) {
            if (target.executor === oldExecutorName) {
                target.executor = newExecutorName;
            }
        }
        (0, devkit_1.updateProjectConfiguration)(tree, projectName, project);
    }
}
exports.default = renameWebpackServer;
