const a15_0x4691=['addDependencies','addTaskToGraph','projectGraph','/nx.json','TaskGraphCreator','readFileSync','map','createTaskGraphCompat','strictlyOrderedTargets','self','defineProperty','projects','parse','length','defaultTargetDependencies','addTaskDependencies','createTaskGraph','../../../utilities/nx-imports','toString','push','strip-json-comments','target','findTask','dependencies','targetDependencies','find','filter','build','__esModule','roots','project','tasks'];(function(_0x80633a,_0x469191){const _0x1504c0=function(_0x2f0236){while(--_0x2f0236){_0x80633a['push'](_0x80633a['shift']());}};_0x1504c0(++_0x469191);}(a15_0x4691,0x85));const a15_0x1504=function(_0x80633a,_0x469191){_0x80633a=_0x80633a-0x0;let _0x1504c0=a15_0x4691[_0x80633a];return _0x1504c0;};'use strict';Object[a15_0x1504('0x5')](exports,a15_0x1504('0x17'),{'value':!![]});exports[a15_0x1504('0x1f')]=exports[a15_0x1504('0x2')]=void 0x0;const stripJsonComments=require(a15_0x1504('0xf'));const fs_1=require('fs');const {getDependencyConfigs,workspaceRoot}=require(a15_0x1504('0xc'));function createTaskGraphCompat(_0x16d804,_0xc0a96c,_0x50733c){const _0x1261fc=JSON[a15_0x1504('0x7')](stripJsonComments((0x0,fs_1[a15_0x1504('0x0')])(workspaceRoot+a15_0x1504('0x1e'))[a15_0x1504('0xd')]()));return new TaskGraphCreator(_0xc0a96c,getDefaultDependencyConfigs(_0x1261fc,_0x16d804))[a15_0x1504('0xb')](_0x50733c);}exports[a15_0x1504('0x2')]=createTaskGraphCompat;function getDefaultDependencyConfigs(_0x103ef5,_0x123a61){var _0x1d12be,_0xd06535;const _0x69e3cc=(_0x1d12be=_0x103ef5[a15_0x1504('0x13')])!==null&&_0x1d12be!==void 0x0?_0x1d12be:{};const _0x4d653f=_0x123a61?(_0xd06535=_0x123a61[a15_0x1504('0x3')])!==null&&_0xd06535!==void 0x0?_0xd06535:[a15_0x1504('0x16')]:[];for(const _0x36c3f3 of _0x4d653f){_0x69e3cc[_0x36c3f3]=_0x69e3cc[_0x36c3f3]||[];_0x69e3cc[_0x36c3f3][a15_0x1504('0xe')]({'target':_0x36c3f3,'projects':a15_0x1504('0x12')});}return _0x69e3cc;}class TaskGraphCreator{constructor(_0x809673,_0x35cdeb){this[a15_0x1504('0x1d')]=_0x809673;this[a15_0x1504('0x9')]=_0x35cdeb;}['createTaskGraph'](_0x3c60cc){const _0x142e10={'roots':[],'tasks':{},'dependencies':{}};for(const _0x4e6ab4 of _0x3c60cc){this[a15_0x1504('0x1c')](_0x4e6ab4,_0x142e10);const _0x24439b=getDependencyConfigs(_0x4e6ab4[a15_0x1504('0x10')],this['defaultTargetDependencies'],this['projectGraph']);if(!_0x24439b){continue;}this[a15_0x1504('0xa')](_0x4e6ab4,_0x24439b,_0x3c60cc,_0x142e10);}_0x142e10[a15_0x1504('0x18')]=Object['keys'](_0x142e10[a15_0x1504('0x12')])[a15_0x1504('0x15')](_0xd2a037=>_0x142e10[a15_0x1504('0x12')][_0xd2a037][a15_0x1504('0x8')]===0x0);return _0x142e10;}[a15_0x1504('0xa')](_0x33dc92,_0x491e28,_0x17c2ed,_0x27f26d){for(const _0x292c94 of _0x491e28){if(_0x292c94['projects']===a15_0x1504('0x4')){for(const _0x34d973 of _0x17c2ed){if(_0x34d973[a15_0x1504('0x10')]['project']===_0x33dc92[a15_0x1504('0x10')][a15_0x1504('0x19')]&&_0x34d973['target'][a15_0x1504('0x10')]===_0x292c94['target']){_0x27f26d[a15_0x1504('0x12')][_0x33dc92['id']][a15_0x1504('0xe')](_0x34d973['id']);}}}else if(_0x292c94[a15_0x1504('0x6')]==='dependencies'){const _0x33307e=new Set();this[a15_0x1504('0x1b')](_0x33dc92[a15_0x1504('0x10')][a15_0x1504('0x19')],_0x292c94[a15_0x1504('0x10')],_0x17c2ed,_0x27f26d,_0x33dc92['id'],_0x33307e);}}}[a15_0x1504('0x1b')](_0x1c6ade,_0x81611d,_0x4be01a,_0x162ccb,_0x18c2a6,_0x57b658){_0x57b658['add'](_0x1c6ade);const _0x3f67d3=this[a15_0x1504('0x1d')][a15_0x1504('0x12')][_0x1c6ade];if(_0x3f67d3){const _0x439c47=_0x3f67d3[a15_0x1504('0x1')](_0x4eb05a=>_0x4eb05a[a15_0x1504('0x10')]);for(const _0x1a233c of _0x439c47){if(_0x57b658['has'](_0x1a233c)){continue;}const _0x24e671=this[a15_0x1504('0x11')]({'project':_0x1a233c,'target':_0x81611d},_0x4be01a);if(_0x24e671){if(_0x162ccb[a15_0x1504('0x12')][_0x18c2a6]['indexOf'](_0x24e671['id'])===-0x1){_0x162ccb[a15_0x1504('0x12')][_0x18c2a6]['push'](_0x24e671['id']);}}else{this[a15_0x1504('0x1b')](_0x1a233c,_0x81611d,_0x4be01a,_0x162ccb,_0x18c2a6,_0x57b658);}}}}[a15_0x1504('0x11')]({project,target},_0x1a24fb){return _0x1a24fb[a15_0x1504('0x14')](_0x94cfb5=>_0x94cfb5['target'][a15_0x1504('0x19')]===project&&_0x94cfb5[a15_0x1504('0x10')]['target']===target);}['addTaskToGraph'](_0x3f55d3,_0x4a2ea5){_0x4a2ea5[a15_0x1504('0x1a')][_0x3f55d3['id']]=_0x3f55d3;_0x4a2ea5[a15_0x1504('0x12')][_0x3f55d3['id']]=[];}}exports[a15_0x1504('0x1f')]=TaskGraphCreator;