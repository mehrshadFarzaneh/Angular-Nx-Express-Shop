"use strict";
/**
 * Adapted from the original ng-packagr source.
 *
 * Changes made:
 * - Provide our own writePackageTransform function.
 * - USE NX_OPTIONS_TOKEN instead of OPTIONS_TOKEN.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.NX_WRITE_PACKAGE_TRANSFORM = exports.NX_WRITE_PACKAGE_TRANSFORM_TOKEN = void 0;
const injection_js_1 = require("injection-js");
const transform_di_1 = require("ng-packagr/lib/graph/transform.di");
const options_di_1 = require("../options.di");
const write_package_transform_1 = require("./write-package.transform");
exports.NX_WRITE_PACKAGE_TRANSFORM_TOKEN = new injection_js_1.InjectionToken(`nx.v1.writePackageTransform`);
exports.NX_WRITE_PACKAGE_TRANSFORM = (0, transform_di_1.provideTransform)({
    provide: exports.NX_WRITE_PACKAGE_TRANSFORM_TOKEN,
    useFactory: write_package_transform_1.nxWritePackageTransform,
    deps: [options_di_1.NX_OPTIONS_TOKEN],
});
